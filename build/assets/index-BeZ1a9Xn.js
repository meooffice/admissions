import{u as xe,j as e,H as qe,U as Oe,S as He,a as Ae,F as ze,L as $e,A as Ge,b as Ke,c as Ue,r as x,d as J,e as We,G as fe,C as Ve,D as de,P as ce,f as oe,V as r,I as ae,T as s,g as he,h as C,i as a,k as V,l as K,m as i,n as B,p as _e,o as je,B as ie,s as me,q as De,t as Je,v as Ze,R as Xe,w as Qe,x as Pe,y as et,z as tt,E as we,J as st,K as Te,M as Ee,N as Me,O as at,Q as lt,W as Q,X as rt}from"./vendor-r-yJg4V7.js";(function(){const o=document.createElement("link").relList;if(o&&o.supports&&o.supports("modulepreload"))return;for(const f of document.querySelectorAll('link[rel="modulepreload"]'))N(f);new MutationObserver(f=>{for(const y of f)if(y.type==="childList")for(const w of y.addedNodes)w.tagName==="LINK"&&w.rel==="modulepreload"&&N(w)}).observe(document,{childList:!0,subtree:!0});function g(f){const y={};return f.integrity&&(y.integrity=f.integrity),f.referrerPolicy&&(y.referrerPolicy=f.referrerPolicy),f.crossOrigin==="use-credentials"?y.credentials="include":f.crossOrigin==="anonymous"?y.credentials="omit":y.credentials="same-origin",y}function N(f){if(f.ep)return;f.ep=!0;const y=g(f);fetch(f.href,y)}})();const nt="/assets/srk-B2rxj0_T.png",it=()=>{const t=xe(),o=g=>{t(g)};return e.jsxs("div",{className:"navbar bg-base-100 shadow-sm fixed top-0 z-50",children:[e.jsx("div",{className:"flex-1",children:e.jsx("button",{className:"btn btn-ghost text-xl",onClick:()=>o("/"),children:"School Dashboard"})}),e.jsxs("div",{className:"flex-none gap-2",children:[e.jsxs("div",{className:"dropdown dropdown-end",children:[e.jsxs("div",{tabIndex:0,role:"button",className:"btn btn-ghost",children:[e.jsx(qe,{size:18}),"Home"]}),e.jsxs("ul",{className:"menu menu-sm dropdown-content bg-base-100 z-[1] mt-3 w-40 p-2 shadow rounded-box",children:[e.jsx("li",{children:e.jsx("button",{onClick:()=>o("/"),children:"Dashboard"})}),e.jsx("li",{children:e.jsx("button",{onClick:()=>o("/classes"),children:"Classes"})}),e.jsx("li",{children:e.jsx("button",{onClick:()=>o("/memo"),children:"Marks Memo"})}),e.jsx("li",{children:e.jsx("button",{onClick:()=>o("/tenth"),children:"Tenth Calss"})})]})]}),e.jsxs("button",{className:"btn btn-ghost",onClick:()=>o("/post"),children:[e.jsx(Oe,{size:18}),"Admission"]}),e.jsxs("button",{className:"btn btn-ghost",onClick:()=>o("/search"),children:[e.jsx(He,{size:18}),"Search"]}),e.jsxs("button",{className:"btn btn-ghost",onClick:()=>o("/staff"),children:[e.jsx(Ae,{size:18}),"Staff"]}),e.jsxs("button",{className:"btn btn-ghost",onClick:()=>o("/docs"),children:[e.jsx(ze,{size:18}),"Certificates"]}),e.jsxs("div",{className:"dropdown dropdown-end",children:[e.jsxs("div",{tabIndex:0,role:"button",className:"btn btn-ghost",children:[e.jsx($e,{size:18}),"Orders"]}),e.jsxs("ul",{className:"menu menu-sm dropdown-content bg-base-100 z-[1] mt-3 w-40 p-2 shadow rounded-box",children:[e.jsx("li",{children:e.jsxs("button",{onClick:()=>o("/increment"),className:"flex items-center gap-2",children:[e.jsx(Ge,{size:16}),"Increment"]})}),e.jsx("li",{children:e.jsxs("button",{onClick:()=>o("/surrender"),className:"flex items-center gap-2",children:[e.jsx(Ke,{size:16}),"Surrender Leave"]})}),e.jsx("li",{children:e.jsxs("button",{onClick:()=>o("/leave"),className:"flex items-center gap-2",children:[e.jsx(Ue,{size:16}),"Leave"]})})]})]}),e.jsxs("div",{className:"dropdown dropdown-end",children:[e.jsx("div",{tabIndex:0,role:"button",className:"btn btn-ghost btn-circle avatar",children:e.jsx("div",{className:"w-10 rounded-full",children:e.jsx("img",{alt:"User avatar",src:nt})})}),e.jsxs("ul",{className:"menu menu-sm dropdown-content bg-base-100 z-[1] mt-3 w-52 p-2 shadow rounded-box",children:[e.jsx("li",{children:e.jsxs("a",{className:"justify-between",children:["Profile",e.jsx("span",{className:"badge",children:"New"})]})}),e.jsx("li",{children:e.jsx("a",{children:"Settings"})}),e.jsx("li",{children:e.jsx("a",{children:"Logout"})})]})]})]})]})},dt="/assets/c1-CPH7ldwz.png",ct="/assets/c2-DAAwZ1OL.png",ot="/assets/c3-bcte65Dd.png",ht="/assets/c4-CBhJqKMi.png",mt="/assets/c5-B7XmUY8A.png",ut="/assets/c6-rRaMeLVl.png",xt="/assets/c7-DDtlMLm0.png",pt="/assets/c8-CnxpjHAr.png",gt="/assets/c9-B5okRbZX.png",jt="/assets/c10-BQFyYR8L.png",Ce=[dt,ct,ot,ht,mt,ut,xt,pt,gt,jt],bt=()=>{const[t,o]=x.useState(0),[g,N]=x.useState([]),[f,y]=x.useState([]),[w,u]=x.useState([]),b=x.useRef(null);x.useEffect(()=>{const l=setInterval(()=>{o(p=>(p+1)%Ce.length)},1e4);return()=>clearInterval(l)},[]),x.useEffect(()=>{const l=document.getElementById(`item${t+1}`),p=b.current;l&&p&&p.scrollTo({left:l.offsetLeft,behavior:"smooth"})},[t]);const m=async()=>{try{const p=await(await fetch("https://hsbackendpkm.vercel.app/get-card1-data")).json();N(p)}catch(l){console.error("Error fetching card 1 data:",l)}},c=async()=>{try{const l=await J.get("https://hsbackendpkm.vercel.app/staff");y(l.data)}catch(l){console.error("Error fetching staff data:",l),alert("Failed to fetch staff data")}};x.useEffect(()=>{m(),c()},[]);const h=l=>{u(p=>p.includes(l)?p.filter(v=>v!==l):[...p,l])},j=()=>e.jsxs("div",{className:"flex flex-col lg:flex-row gap-6 mt-10 justify-between",children:[e.jsxs("div",{className:"bg-blue-100 border-l-4 border-blue-500 p-6 rounded-md shadow-md w-full lg:w-1/4 text-sm",children:[e.jsxs("h3",{className:"font-semibold text-lg text-blue-700 mb-4 flex items-center gap-2",children:[e.jsx(We,{size:20})," Facilities Providing"]}),e.jsxs("ul",{className:"list-disc list-inside text-blue-900 space-y-2",children:[e.jsx("li",{children:"Uniform and Belt"}),e.jsx("li",{children:"Text Books and Note Books"}),e.jsx("li",{children:"Bag and Shoes"}),e.jsx("li",{children:"Oxford or Pictorial Dictionary"}),e.jsx("li",{children:"Sports Material"}),e.jsx("li",{children:"Midday Meal"})]})]}),e.jsxs("div",{className:"w-full lg:w-2/4 bg-white rounded-md shadow-md border border-gray-300",children:[e.jsx("div",{className:"bg-yellow-200 text-center py-2 border-b border-gray-900 rounded-t-md",children:e.jsxs("h3",{className:"text-lg font-semibold text-gray-800 flex items-center justify-center gap-2",children:[e.jsx(Ae,{size:20})," School Strength"]})}),e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"table w-full text-sm text-center border-2 border-gray-900",children:[e.jsx("thead",{className:"bg-base-200 sticky top-0 z-10",children:e.jsxs("tr",{children:[e.jsx("th",{className:"border border-gray-900",children:"Class"}),e.jsxs("th",{className:"border border-gray-900",children:["SC",e.jsx("br",{}),"Boys"]}),e.jsxs("th",{className:"border border-gray-900",children:["SC",e.jsx("br",{}),"Girls"]}),e.jsxs("th",{className:"border border-gray-900",children:["ST",e.jsx("br",{}),"Boys"]}),e.jsxs("th",{className:"border border-gray-900",children:["ST",e.jsx("br",{}),"Girls"]}),e.jsxs("th",{className:"border border-gray-900",children:["BC",e.jsx("br",{}),"Boys"]}),e.jsxs("th",{className:"border border-gray-900",children:["BC",e.jsx("br",{}),"Girls"]}),e.jsxs("th",{className:"border border-gray-900",children:["OC",e.jsx("br",{}),"Boys"]}),e.jsxs("th",{className:"border border-gray-900",children:["OC",e.jsx("br",{}),"Girls"]})]})}),e.jsx("tbody",{children:g.map((l,p)=>e.jsxs("tr",{className:p%2===0?"bg-white":"bg-gray-300",children:[e.jsxs("td",{className:"font-medium bg-base-200 border border-gray-900",children:["Class ",p+6]}),l.slice(1,9).map((v,k)=>e.jsx("td",{className:`border-1 border-gray-900 ${k%2!==0?"bg-gray-200":""}`,children:v},k))]},p))})]})})]}),e.jsxs("div",{className:"bg-green-100 border-l-4 border-green-600 p-6 rounded-md shadow-md w-full lg:w-1/4 text-sm",children:[e.jsxs("h3",{className:"font-semibold text-lg text-green-700 mb-4 flex items-center gap-2",children:[e.jsx(fe,{size:20})," Our School Mission"]}),e.jsxs("ul",{className:"list-disc list-inside text-green-900 space-y-2",children:[e.jsx("li",{children:"Provide Free Education"}),e.jsx("li",{children:"Nutritional food"}),e.jsx("li",{children:"Healthy Physical & Mental Growth"}),e.jsx("li",{children:"Stress Free Education"}),e.jsx("li",{children:"Develop Creativity & Thinking"}),e.jsx("li",{children:"Morality and Values"})]})]})]}),n=()=>e.jsxs("div",{className:"mt-16",children:[e.jsxs("h3",{className:"text-2xl font-bold text-center mb-6 flex items-center justify-center gap-2",children:[e.jsx(Ve,{size:24})," Meet Our Staff"]}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:f.map(l=>{const p=w.includes(l.id);return e.jsx("div",{className:"card bg-base-100 shadow-md border border-gray-200",children:e.jsxs("div",{className:"card-body",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("div",{className:"avatar",children:e.jsx("div",{className:"w-24 rounded-full ring ring-primary ring-offset-base-100 ring-offset-2",children:e.jsx("img",{src:l.imageUrl,alt:l.name})})}),e.jsxs("div",{className:"text-right",children:[e.jsx("h2",{className:"text-xl font-bold",children:l.name}),e.jsx("p",{className:"text-sm text-gray-500",children:l.designation})]})]}),p&&e.jsxs("ul",{className:"mt-4 text-sm space-y-1",children:[e.jsxs("li",{children:[e.jsx("strong",{children:"Email:"})," ",l.email]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Phone:"})," ",l.phoneNo]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Qualifications:"})," ",l.qualifications]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Subject:"})," ",l.subject]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Achievements:"})," ",l.achievements]})]}),e.jsx("button",{className:"btn btn-sm btn-outline btn-primary mt-4 w-full",onClick:()=>h(l.id),children:p?"Show Less":"Show More"})]})},l.id)})})]});return e.jsxs("div",{className:"min-h-screen px-4 py-6 bg-gradient-to-br from-yellow-100 to-blue-100",children:[e.jsx("div",{className:"carousel w-full mb-8 rounded-xl overflow-hidden shadow-2xl bg-yellow-50 border border-yellow-300",ref:b,children:Ce.map((l,p)=>e.jsx("div",{id:`item${p+1}`,className:"carousel-item w-full transition-all duration-700 ease-in-out",children:e.jsx("div",{className:"flex items-center justify-center h-[300px] w-full bg-gradient-to-r from-rose-100 via-orange-100 to-yellow-100",children:e.jsx("img",{src:l,className:"max-h-full max-w-full object-contain",alt:`Slide ${p+1}`})})},p))}),e.jsx("div",{className:"flex justify-center gap-2 py-3",children:Ce.map((l,p)=>e.jsx("button",{onClick:()=>o(p),className:`btn btn-xs ${t===p?"btn-primary":"bg-gray-200 hover:bg-gray-300"}`,children:p+1},p))}),e.jsxs("h2",{className:"text-3xl font-bold text-center text-blue-800 my-8",children:["Welcome! ",e.jsx("br",{})," Z P P HIGH SCHOOL - P KOTTAM"]}),j(),n(),e.jsx("footer",{className:"text-center mt-16 text-gray-600 text-sm",children:"Created by Rama Sekhar ©2024"})]})},d=oe.create({page:{padding:20},section:{marginBottom:10,padding:10,border:"1px solid black",borderRadius:10},fieldRow:{display:"flex",flexDirection:"row",justifyContent:"space-between",marginBottom:5},field:{width:"30%"},legendLabel:{fontSize:12,fontWeight:"bold",backgroundColor:"#f0f0f0",padding:4,marginBottom:8,borderBottom:"1px solid black"},value:{fontSize:10,marginBottom:3},headerSection:{display:"flex",flexDirection:"row",justifyContent:"space-between",alignItems:"center",backgroundColor:"#f0f0f0",padding:10,borderRadius:10,marginBottom:10},logo:{width:50,height:50},textContainer:{flex:1,display:"flex",alignItems:"center",justifyContent:"center"},title1:{fontSize:16,fontWeight:"bold",textAlign:"center"},title2:{fontSize:14,textAlign:"center"},declaration:{marginTop:10,fontSize:12,textAlign:"justify"},signatureSection:{marginTop:10,fontSize:12}}),ft=({formData:t})=>e.jsx(de,{children:e.jsxs(ce,{style:d.page,children:[e.jsxs(r,{style:d.headerSection,children:[e.jsx(ae,{style:d.logo,src:"https://i.postimg.cc/2ygF6cCy/SRK.png"}),e.jsxs(r,{style:d.textContainer,children:[e.jsx(s,{style:d.title1,children:"Z P P HIGH SCHOOL- P KOTTAM"}),e.jsx(s,{style:d.title2,children:"ADMISSION FORM"})]}),e.jsx(ae,{style:d.logo,src:"https://i.postimg.cc/2ygF6cCy/SRK.png"})]}),e.jsxs(r,{style:d.section,children:[e.jsx(s,{style:d.legendLabel,children:"Admission Details"}),e.jsxs(r,{style:d.fieldRow,children:[e.jsx(r,{style:d.field,children:e.jsxs(s,{style:d.value,children:["Date of Joining: ",t.doj]})}),e.jsx(r,{style:d.field,children:e.jsxs(s,{style:d.value,children:["Joining Class: ",t.join_class]})}),e.jsx(r,{style:d.field,children:e.jsx(s,{style:d.value,children:"Admission No: __________"})})]})]}),e.jsxs(r,{style:d.section,children:[e.jsx(s,{style:d.legendLabel,children:"Student Details"}),e.jsxs(r,{style:d.fieldRow,children:[e.jsx(r,{style:d.field,children:e.jsxs(s,{style:d.value,children:["PEN Number: ",t.pen_no]})}),e.jsx(r,{style:d.field,children:e.jsxs(s,{style:d.value,children:["Sur Name: ",t.sur_name]})}),e.jsx(r,{style:d.field,children:e.jsxs(s,{style:d.value,children:["Name: ",t.name]})})]}),e.jsxs(r,{style:d.fieldRow,children:[e.jsx(r,{style:d.field,children:e.jsxs(s,{style:d.value,children:["Date of Birth: ",t.dob]})}),e.jsx(r,{style:d.field,children:e.jsxs(s,{style:d.value,children:["Gender: ",t.gender]})}),e.jsx(r,{style:d.field,children:e.jsxs(s,{style:d.value,children:["Mother Tongue: ",t.mother_lang]})})]}),e.jsxs(r,{style:d.fieldRow,children:[e.jsx(r,{style:d.field,children:e.jsxs(s,{style:d.value,children:["Student Aadhaar No: ",t.st_adhar]})}),e.jsx(r,{style:d.field,children:e.jsxs(s,{style:d.value,children:["Caste: ",t.caste]})}),e.jsx(r,{style:d.field,children:e.jsxs(s,{style:d.value,children:["Category: ",t.catogory]})})]}),e.jsxs(r,{style:d.fieldRow,children:[e.jsx(r,{style:d.field,children:e.jsxs(s,{style:d.value,children:["Nationality & Religion: ",t.nation_religion]})}),e.jsx(r,{style:d.field,children:e.jsxs(s,{style:d.value,children:["Height(cm): ",t.hieght]})}),e.jsx(r,{style:d.field,children:e.jsxs(s,{style:d.value,children:["Shoe Size(cm): ",t.shoe_size_cm]})})]}),e.jsxs(r,{style:d.fieldRow,children:[e.jsx(r,{style:d.field,children:e.jsxs(s,{style:d.value,children:["Moles: ",t.moles]})}),e.jsx(r,{style:d.field,children:e.jsxs(s,{style:d.value,children:["Father's Name: ",t.father_name]})}),e.jsx(r,{style:d.field,children:e.jsxs(s,{style:d.value,children:["Father's Aadhaar: ",t.f_adhar]})})]}),e.jsxs(r,{style:d.fieldRow,children:[e.jsx(r,{style:d.field,children:e.jsxs(s,{style:d.value,children:["Mother's Name: ",t.mother_name]})}),e.jsx(r,{style:d.field,children:e.jsxs(s,{style:d.value,children:["Mother's Aadhaar: ",t.m_adhar]})}),e.jsx(r,{style:d.field,children:e.jsxs(s,{style:d.value,children:["Occupation: ",t.ocupation]})})]})]}),e.jsxs(r,{style:d.section,children:[e.jsx(s,{style:d.legendLabel,children:"Address Details"}),e.jsxs(r,{style:d.fieldRow,children:[e.jsx(r,{style:d.field,children:e.jsxs(s,{style:d.value,children:["Bank Account Number: ",t.bannk_ac_no]})}),e.jsx(r,{style:d.field,children:e.jsxs(s,{style:d.value,children:["IFSC Code: ",t.ifsc_code]})}),e.jsx(r,{style:d.field,children:e.jsxs(s,{style:d.value,children:["Bank Name: ",t.bannk_name]})})]}),e.jsxs(r,{style:d.fieldRow,children:[e.jsx(r,{style:d.field,children:e.jsxs(s,{style:d.value,children:["Address: ",t.address]})}),e.jsx(r,{style:d.field,children:e.jsxs(s,{style:d.value,children:["Ration Card Number: ",t.ration_card_no]})}),e.jsx(r,{style:d.field,children:e.jsxs(s,{style:d.value,children:["Mobile Number: ",t.mobile_no]})})]}),e.jsxs(r,{style:d.fieldRow,children:[e.jsx(r,{style:d.field,children:e.jsxs(s,{style:d.value,children:["Guardian: ",t.guardian]})}),e.jsx(r,{style:d.field,children:e.jsxs(s,{style:d.value,children:["TV Type: ",t.tv_type]})}),e.jsx(r,{style:d.field,children:e.jsxs(s,{style:d.value,children:["TV Connection: ",t.tv_connection]})})]}),e.jsxs(r,{style:d.fieldRow,children:[e.jsx(r,{style:d.field,children:e.jsxs(s,{style:d.value,children:["DTH Provider: ",t.dth_name]})}),e.jsx(r,{style:d.field,children:e.jsxs(s,{style:d.value,children:["Mobile Type: ",t.mobile_type]})}),e.jsx(r,{style:d.field,children:e.jsxs(s,{style:d.value,children:["Computer: ",t.computer]})})]}),e.jsx(r,{style:d.fieldRow,children:e.jsx(r,{style:d.field,children:e.jsxs(s,{style:d.value,children:["Internet Availability: ",t.internet]})})})]}),e.jsxs(r,{style:d.section,children:[e.jsx(s,{style:d.legendLabel,children:"Previous School Details"}),e.jsxs(r,{style:d.fieldRow,children:[e.jsx(r,{style:d.field,children:e.jsxs(s,{style:d.value,children:["RC/TC No: ",t.rc_tc_no]})}),e.jsx(r,{style:d.field,children:e.jsxs(s,{style:d.value,children:["Issue Date: ",t.issue_date]})}),e.jsx(r,{style:d.field,children:e.jsxs(s,{style:d.value,children:["Last Class: ",t.last_class]})})]}),e.jsxs(r,{style:d.fieldRow,children:[e.jsx(r,{style:d.field,children:e.jsxs(s,{style:d.value,children:["Last School: ",t.last_school]})}),e.jsx(r,{style:d.field,children:e.jsxs(s,{style:d.value,children:["Last School Address: ",t.last_school_add]})}),e.jsx(r,{style:d.field,children:e.jsxs(s,{style:d.value,children:["Qualified: ",t.qualified]})})]}),e.jsxs(r,{style:d.fieldRow,children:[e.jsx(r,{style:d.field,children:e.jsxs(s,{style:d.value,children:["Medium: ",t.medium]})}),e.jsx(r,{style:d.field,children:e.jsxs(s,{style:d.value,children:["Who is Joining: ",t.who_is_joinig]})}),e.jsx(r,{style:d.field,children:e.jsxs(s,{style:d.value,children:["Relation: ",t.relation]})})]}),e.jsxs(r,{style:d.fieldRow,children:[e.jsx(r,{style:d.field,children:e.jsxs(s,{style:d.value,children:["Present Address: ",t.present_add]})}),e.jsx(r,{style:d.field,children:e.jsxs(s,{style:d.value,children:["Distance to School: ",t.distance_to_school]})}),e.jsx(r,{style:d.field,children:e.jsxs(s,{style:d.value,children:["Mode of Transport: ",t.mode_transport]})})]})]}),e.jsxs(s,{style:d.declaration,children:["I, ",t.who_is_joinig,", ",t.relation,", of,",t.sur_name,", ",t.name,", hereby declare that the information provided above is true and accurate to the best of my knowledge. I understand that any false information may result in the cancellation of my admission."]}),e.jsx(s,{style:[d.value,{textAlign:"right",marginRight:40}],children:"Signature of Guardian:"}),e.jsxs(s,{style:[d.value,{textAlign:"right",marginTop:40,marginRight:40}],children:["Admitted in Class: ______, Adm No: _______ Date: ",new Date().toLocaleDateString(),", Signature of The HM"]})]})}),{Title:yt}=he,{Option:O}=C,vt=()=>{const[t]=a.useForm(),[o,g]=x.useState(!1),[N,f]=x.useState([]),y=(u,b)=>{const m=Date.now();f(c=>[...c,{id:m,type:u,message:b}]),setTimeout(()=>{f(c=>c.filter(h=>h.id!==m))},8e3)},w=async u=>{g(!0);try{const b={...u,dob:u.dob?B(u.dob).format("DD-MM-YYYY"):"",doj:u.doj?B(u.doj).format("DD-MM-YYYY"):"",issue_date:u.issue_date?B(u.issue_date).format("DD-MM-YYYY"):"",date_of_issue:u.date_of_issue?B(u.date_of_issue).format("DD-MM-YYYY"):""},m=await J.post("https://hsbackendpkm.vercel.app/post",b),{admNo:c,success:h}=m.data;if(h&&c){y("success",`Data submitted successfully! Admission No: ${c}`);const j=await _e(e.jsx(ft,{formData:b})).toBlob(),n=URL.createObjectURL(j),l=document.createElement("a");l.href=n,l.download=`Admission_Form_${c}.pdf`,document.body.appendChild(l),l.click(),document.body.removeChild(l),t.resetFields()}else y("error","Submission failed: No admission number returned.")}catch(b){y("error","Error submitting the form"),console.error("Submission error:",b)}finally{g(!1)}};return e.jsxs("div",{className:"form-container",children:[e.jsx("div",{className:"toast toast-top toast-end z-50",children:N.map(({id:u,type:b,message:m})=>e.jsx("div",{className:`alert ${b==="success"?"alert-success":"alert-error"} shadow-lg`,children:e.jsx("span",{children:m})},u))}),e.jsxs("div",{className:"form-wrapper",children:[e.jsx(yt,{level:2,className:"form-header border-2 rounded-2xl bg-green-500 w-1/2 text-center mx-auto",children:"ADMISSION FORM"}),e.jsxs(a,{form:t,layout:"vertical",onFinish:w,children:[e.jsx(V,{title:"Admission Details",bordered:!0,className:"form-card",children:e.jsx("div",{className:"bg-base-200 p-4 rounded-md",children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsx(a.Item,{label:"Date of Joining",name:"doj",rules:[{required:!0,message:"Please select Date of Joining!"}],children:e.jsx(K,{placeholder:"Select date of joining",format:"DD-MM-YYYY"})}),e.jsx(a.Item,{label:"Joining Class",name:"join_class",rules:[{required:!0,message:"Please select a Class!"}],children:e.jsx(C,{placeholder:"Select Class",children:Array.from({length:10},(u,b)=>e.jsx(O,{value:b+1,children:b+1},b+1))})})]})})}),e.jsx(V,{title:"Student Details",bordered:!0,className:"form-card",children:e.jsx("div",{className:"bg-base-200 p-4 rounded-md",children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[e.jsx(a.Item,{label:"PEN Number",name:"pen_no",rules:[{required:!0,message:"Please input PEN number!"},{pattern:/^\d{11,12}$/,message:"PEN number must be 11 to 12 digits long and only contain numbers!"}],children:e.jsx(i,{type:"text",placeholder:"Enter PEN number",minLength:11,maxLength:12,onInput:u=>{u.target.value=u.target.value.replace(/[^0-9]/g,"")}})}),e.jsx(a.Item,{label:"Surname",name:"sur_name",rules:[{required:!0,message:"Please input surname!"}],children:e.jsx(i,{placeholder:"Enter surname"})}),e.jsx(a.Item,{label:"Name",name:"name",rules:[{required:!0,message:"Please input name!"}],children:e.jsx(i,{placeholder:"Enter name"})}),e.jsx(a.Item,{label:"Date of Birth",name:"dob",rules:[{required:!0,message:"Please select your date of birth!"}],children:e.jsx(K,{placeholder:"Select date of birth",format:"DD-MM-YYYY"})}),e.jsx(a.Item,{label:"Gender",name:"gender",rules:[{required:!0,message:"Please select gender!"}],children:e.jsxs(C,{placeholder:"Select gender",children:[e.jsx(O,{value:"Boy",children:"Boy"}),e.jsx(O,{value:"Girl",children:"Girl"}),e.jsx(O,{value:"Other",children:"Other"})]})}),e.jsx(a.Item,{label:"Mother Tongue",name:"mother_lang",rules:[{required:!0,message:"Please input mother tongue!"}],children:e.jsx(i,{placeholder:"Enter mother tongue"})}),e.jsx(a.Item,{label:"Student Aadhaar",name:"st_adhar",rules:[{required:!0,message:"Please input student Aadhaar!"},{pattern:/^\d{12}$/,message:"Student Aadhaar must be exactly 12 digits!"}],children:e.jsx(i,{type:"text",placeholder:"Enter student Aadhaar number",maxLength:12,onInput:u=>{u.target.value=u.target.value.replace(/[^0-9]/g,"")}})}),e.jsx(a.Item,{label:"Caste",name:"caste",rules:[{required:!0,message:"Please input caste!"}],children:e.jsx(i,{placeholder:"Enter caste"})}),e.jsx(a.Item,{label:"Category",name:"catogory",rules:[{required:!0,message:"Please select category!"}],children:e.jsxs(C,{placeholder:"Select category",children:[e.jsx(O,{value:"SC",children:"SC"}),e.jsx(O,{value:"ST",children:"ST"}),e.jsx(O,{value:"BC",children:"BC"}),e.jsx(O,{value:"OC",children:"OC"})]})}),e.jsx(a.Item,{label:"Nationality & Religion",name:"nation_religion",rules:[{required:!0,message:"Please input nationality and religion!"}],children:e.jsx(i,{placeholder:"Enter nationality & religion"})}),e.jsx(a.Item,{label:"Height (cm)",name:"hieght",rules:[{required:!0,message:"Please input height!"}],children:e.jsx(i,{placeholder:"Enter height in cm"})}),e.jsx(a.Item,{label:"Shoe Size (cm)",name:"shoe_size_cm",rules:[{required:!0,message:"Please input shoe size!"}],children:e.jsx(i,{placeholder:"Enter shoe size in cm"})}),e.jsx(a.Item,{label:"Moles",name:"moles",rules:[{required:!0,message:"Please input any moles!"}],children:e.jsx(i,{placeholder:"Enter distinguishing moles"})}),e.jsx(a.Item,{label:"Father's Name",name:"father_name",rules:[{required:!0,message:"Please input father's name!"}],children:e.jsx(i,{placeholder:"Enter father's name"})}),e.jsx(a.Item,{label:"Father's Aadhaar",name:"f_adhar",rules:[{required:!0,message:"Please input father's Aadhaar!"},{pattern:/^\d{12}$/,message:"Aadhaar number must be exactly 12 digits long!"}],children:e.jsx(i,{type:"text",placeholder:"Enter Father Aadhaar number",maxLength:12,onInput:u=>{u.target.value=u.target.value.replace(/[^0-9]/g,"")}})}),e.jsx(a.Item,{label:"Mother's Name",name:"mother_name",rules:[{required:!0,message:"Please input mother's name!"}],children:e.jsx(i,{placeholder:"Enter mother's name"})}),e.jsx(a.Item,{label:"Mother's Aadhaar",name:"m_adhar",rules:[{required:!0,message:"Please input mother's Aadhaar!"},{pattern:/^\d{12}$/,message:"Aadhaar number must be exactly 12 digits!"}],children:e.jsx(i,{type:"text",placeholder:"Enter Mother Aadhaar number",maxLength:12,onInput:u=>{u.target.value=u.target.value.replace(/[^0-9]/g,"")}})}),e.jsx(a.Item,{label:"Occupation",name:"ocupation",rules:[{required:!0,message:"Please input occupation!"}],children:e.jsx(i,{placeholder:"Enter occupation"})})]})})}),e.jsx(V,{title:"Address Details",bordered:!0,className:"form-card",children:e.jsx("div",{className:"bg-base-200 p-4 rounded-md",children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[e.jsx(a.Item,{label:"Bank Account Number",name:"bannk_ac_no",rules:[{required:!0,message:"Please input bank account number!"},{pattern:/^\d{11,16}$/,message:"Bank account number must be between 11 and 16 digits!"}],children:e.jsx(i,{type:"text",placeholder:"Enter student Aadhaar number",maxLength:16,onInput:u=>{u.target.value=u.target.value.replace(/[^0-9]/g,"")}})}),e.jsx(a.Item,{label:"IFSC Code",name:"ifsc_code",rules:[{required:!0,message:"Please input IFSC code!"},{pattern:/^[A-Z]{4}0[A-Z0-9]{6}$/,message:"IFSC code must be in the format: XXXX0YYYYYY (X=letters, Y=numbers)"}],children:e.jsx(i,{placeholder:"Enter IFSC code",maxLength:11})}),e.jsx(a.Item,{label:"Bank Name",name:"bannk_name",rules:[{required:!0,message:"Please input bank name!"}],children:e.jsx(i,{placeholder:"Enter bank name"})}),e.jsx(a.Item,{label:"Address",name:"address",rules:[{required:!0,message:"Please input address!"}],children:e.jsx(i,{placeholder:"Enter address"})}),e.jsx(a.Item,{label:"Ration Card Number",name:"ration_card_no",rules:[{required:!0,message:"Please input ration card number!"}],children:e.jsx(i,{placeholder:"Enter ration card number"})}),e.jsx(a.Item,{label:"Mobile Number",name:"mobile_no",rules:[{required:!0,message:"Please input mobile number!"},{pattern:/^(?:[6789]\d{9})$/,message:"Mobile number must be a 10-digit number starting with 6, 7, 8, or 9!"}],children:e.jsx(i,{placeholder:"Enter mobile number",maxLength:10,onInput:u=>{u.target.value=u.target.value.replace(/[^0-9]/g,"")}})}),e.jsx(a.Item,{label:"Guardian",name:"guardian",rules:[{required:!0,message:"Please input guardian name!"}],children:e.jsx(i,{placeholder:"Enter guardian name"})}),e.jsx(a.Item,{label:"TV Type",name:"tv_type",rules:[{required:!0,message:"Please select TV type!"}],children:e.jsxs(C,{placeholder:"Select TV type",children:[e.jsx(C.Option,{value:"Analog",children:"Analog"}),e.jsx(C.Option,{value:"Smart",children:"Smart"}),e.jsx(C.Option,{value:"Advanced",children:"Advanced"}),e.jsx(C.Option,{value:"No TV",children:"No TV"})]})}),e.jsx(a.Item,{label:"TV Connection",name:"tv_connection",rules:[{required:!0,message:"Please select TV connection!"}],children:e.jsxs(C,{placeholder:"Select TV connection",children:[e.jsx(O,{value:"Cable",children:"Cable"}),e.jsx(O,{value:"DTH",children:"DTH"}),e.jsx(O,{value:"Not Applicable",children:"Not Applicable"})]})}),e.jsx(a.Item,{label:"DTH Provider",name:"dth_name",rules:[{required:!0,message:"Please select DTH provider!"}],children:e.jsxs(C,{placeholder:"Select DTH provider",children:[e.jsx(O,{value:"Tata Sky",children:"Tata Sky"}),e.jsx(O,{value:"Bharat Business",children:"Bharat Business"}),e.jsx(O,{value:"Dish TV",children:"Dish TV"}),e.jsx(O,{value:"SUN Direct",children:"SUN Direct"}),e.jsx(O,{value:"Airtel",children:"Airtel"}),e.jsx(O,{value:"M/s Reliance BIG TV",children:"M/s Reliance BIG TV"}),e.jsx(O,{value:"Others",children:"Others"}),e.jsx(O,{value:"Not Applicable",children:"Not Applicable"})]})}),e.jsx(a.Item,{label:"Mobile Type",name:"mobile_type",rules:[{required:!0,message:"Please select mobile type!"}],children:e.jsxs(C,{placeholder:"Select mobile type",children:[e.jsx(O,{value:"Basic",children:"Basic"}),e.jsx(O,{value:"Smart",children:"Smart"}),e.jsx(O,{value:"No Mobile",children:"No Mobile"})]})}),e.jsx(a.Item,{label:"Computer Available?",name:"computer",rules:[{required:!0,message:"Please input computer type!"}],children:e.jsxs(C,{placeholder:"Enter computer availability",children:[e.jsx(O,{value:"Yes",children:"Yes"}),e.jsx(O,{value:"No",children:"No"})]})}),e.jsx(a.Item,{label:"Internet Availability",name:"internet",rules:[{required:!0,message:"Please input internet availability!"}],children:e.jsxs(C,{placeholder:"Enter internet availability",children:[e.jsx(O,{value:"Yes",children:"Yes"}),e.jsx(O,{value:"No",children:"No"})]})})]})})}),e.jsx(V,{title:"Previous School Details",bordered:!0,className:"form-card",children:e.jsx("div",{className:"bg-base-200 p-4 rounded-md",children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[e.jsx(a.Item,{label:"RC/TC Number",name:"rc_tc_no",rules:[{required:!0,message:"Please input RC/TC number!"}],children:e.jsx(i,{placeholder:"Enter RC/TC number"})}),e.jsx(a.Item,{label:"Issue Date",name:"issue_date",rules:[{required:!0,message:"Please select issue date!"}],children:e.jsx(K,{placeholder:"Select issue date",format:"DD-MM-YYYY"})}),e.jsx(a.Item,{label:"Last Class",name:"last_class",rules:[{required:!0,message:"Please input last class!"}],children:e.jsx(i,{placeholder:"Enter last class"})}),e.jsx(a.Item,{label:"Last School",name:"last_school",rules:[{required:!0,message:"Please input last school!"}],children:e.jsx(i,{placeholder:"Enter last school"})}),e.jsx(a.Item,{label:"Last School Address",name:"last_school_add",rules:[{required:!0,message:"Please input last school address!"}],children:e.jsx(i,{placeholder:"Enter last school address"})}),e.jsx(a.Item,{label:"Qualified?",name:"qualified",rules:[{required:!0,message:"Please select qualification status!"}],children:e.jsxs(C,{placeholder:"Select qualification status",children:[e.jsx(O,{value:"Yes",children:"Yes"}),e.jsx(O,{value:"No",children:"No"})]})}),e.jsx(a.Item,{label:"Medium of Instruction",name:"medium",rules:[{required:!0,message:"Please input medium of instruction!"}],children:e.jsx(i,{placeholder:"Enter medium of instruction"})}),e.jsx(a.Item,{label:"Who is Joining",name:"who_is_joinig",rules:[{required:!0,message:"Please input who is joining!"}],children:e.jsx(i,{placeholder:"Enter name of who is joining"})}),e.jsx(a.Item,{label:"Relation",name:"relation",rules:[{required:!0,message:"Please input relation!"}],children:e.jsx(i,{placeholder:"Enter relation"})}),e.jsx(a.Item,{label:"Present Address",name:"present_add",rules:[{required:!0,message:"Please input present address!"}],children:e.jsx(i,{placeholder:"Enter present address"})}),e.jsx(a.Item,{label:"Distance to School",name:"distance_to_school",rules:[{required:!0,message:"Please input distance to school!"}],children:e.jsx(i,{placeholder:"Enter distance to school"})}),e.jsx(a.Item,{label:"Mode of Transport",name:"mode_transport",rules:[{required:!0,message:"Please input mode of transport!"}],children:e.jsx(i,{placeholder:"Enter mode of transport"})})]})})}),e.jsx(a.Item,{children:e.jsx("div",{className:"text-center",children:e.jsx("button",{type:"submit",className:"btn btn-outline  btn-primary",disabled:o,id:"submit",children:o?"Submitting...":"Submit"})})})]})]})]})},{Title:as}=he,{Option:z}=C,Nt=()=>{const[t]=a.useForm(),[o,g]=x.useState(""),[N,f]=x.useState(null),[y,w]=x.useState(!1),u=async()=>{try{const l=await J.get(`https://hsbackendpkm.vercel.app/search/${o}`);f(l.data),t.setFieldsValue({...l.data,dob:l.data.dob?B(l.data.dob,"DD-MM-YYYY"):null,doj:l.data.doj?B(l.data.doj,"DD-MM-YYYY"):null,issue_date:l.data.issue_date?B(l.data.issue_date,"DD-MM-YYYY"):null,date_of_issue:l.data.date_of_issue?B(l.data.date_of_issue,"DD-MM-YYYY"):null}),n("success","Record fetched successfully!")}catch(l){n("error","Error fetching record"),console.error("Error:",l)}},b=async l=>{w(!0);try{const p={...l,dob:l.dob?B(l.dob).format("DD-MM-YYYY"):"",doj:l.doj?B(l.doj).format("DD-MM-YYYY"):"",issue_date:l.issue_date?B(l.issue_date).format("DD-MM-YYYY"):"",date_of_issue:l.date_of_issue?B(l.date_of_issue).format("DD-MM-YYYY"):""};await J.put(`https://hsbackendpkm.vercel.app/update/${o}`,p),n("success","Record updated successfully!"),t.resetFields(),f(null),g("")}catch(p){n("error","Error updating record"),console.error("Error:",p)}finally{w(!1)}},[m,c]=x.useState(null),[h,j]=x.useState("info"),n=(l,p,v=3e3)=>{j(l),c(p),setTimeout(()=>c(null),v)};return e.jsxs("div",{className:"p-6 bg-base-200 min-h-screen",children:[e.jsxs("div",{className:"max-w-4xl mx-auto bg-base-100 p-6 rounded-box shadow",children:[e.jsx("h2",{className:"text-3xl font-bold text-primary mb-6 text-center",children:"Search & Edit Student Records"}),e.jsxs("div",{className:"flex justify-center gap-4 items-center mb-6",children:[e.jsx("input",{value:o,onChange:l=>g(l.target.value),placeholder:"Enter Admission Number",className:"input input-bordered w-48"}),e.jsx("button",{onClick:u,className:"btn btn-outline border-2 btn-success w-32 font-bold text-success hover:text-gray-600 ",children:"Fetch Record"})]}),N&&e.jsxs(a,{form:t,layout:"vertical",onFinish:b,style:{marginTop:20},children:[e.jsx(V,{title:"Admission Details",bordered:!0,className:"form-card",children:e.jsx("div",{className:"bg-base-200 p-4 rounded-md",children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsx(a.Item,{label:"Date of Joining",name:"doj",rules:[{required:!0,message:"Please select Date of Joining!"}],children:e.jsx(K,{placeholder:"Select date of joining",format:"DD-MM-YYYY"})}),e.jsx(a.Item,{label:"Joining Class",name:"join_class",rules:[{required:!0,message:"Please select a Class!"}],children:e.jsx(C,{placeholder:"Select Class",children:Array.from({length:10},(l,p)=>e.jsx(z,{value:p+1,children:p+1},p+1))})})]})})}),e.jsx(V,{title:"Student Details",bordered:!0,className:"form-card",children:e.jsx("div",{className:"bg-base-200 p-4 rounded-md",children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[e.jsx(a.Item,{label:"PEN Number",name:"pen_no",rules:[{required:!0,message:"Please input PEN number!"},{pattern:/^\d{11,12}$/,message:"PEN number must be 11 to 12 digits long and only contain numbers!"}],children:e.jsx(i,{type:"text",placeholder:"Enter PEN number",minLength:11,maxLength:12,onInput:l=>{l.target.value=l.target.value.replace(/[^0-9]/g,"")}})}),e.jsx(a.Item,{label:"Surname",name:"sur_name",rules:[{required:!0,message:"Please input surname!"}],children:e.jsx(i,{placeholder:"Enter surname"})}),e.jsx(a.Item,{label:"Name",name:"name",rules:[{required:!0,message:"Please input name!"}],children:e.jsx(i,{placeholder:"Enter name"})}),e.jsx(a.Item,{label:"Date of Birth",name:"dob",rules:[{required:!0,message:"Please select your date of birth!"}],children:e.jsx(K,{placeholder:"Select date of birth",format:"DD-MM-YYYY"})}),e.jsx(a.Item,{label:"Gender",name:"gender",rules:[{required:!0,message:"Please select gender!"}],children:e.jsxs(C,{placeholder:"Select gender",children:[e.jsx(z,{value:"Boy",children:"Boy"}),e.jsx(z,{value:"Girl",children:"Girl"}),e.jsx(z,{value:"Other",children:"Other"})]})}),e.jsx(a.Item,{label:"Mother Tongue",name:"mother_lang",rules:[{required:!0,message:"Please input mother tongue!"}],children:e.jsx(i,{placeholder:"Enter mother tongue"})}),e.jsx(a.Item,{label:"Student Aadhaar",name:"st_adhar",rules:[{required:!0,message:"Please input student Aadhaar!"},{pattern:/^\d{12}$/,message:"Student Aadhaar must be exactly 12 digits!"}],children:e.jsx(i,{type:"text",placeholder:"Enter student Aadhaar number",maxLength:12,onInput:l=>{l.target.value=l.target.value.replace(/[^0-9]/g,"")}})}),e.jsx(a.Item,{label:"Caste",name:"caste",rules:[{required:!0,message:"Please input caste!"}],children:e.jsx(i,{placeholder:"Enter caste"})}),e.jsx(a.Item,{label:"Category",name:"catogory",rules:[{required:!0,message:"Please select category!"}],children:e.jsxs(C,{placeholder:"Select category",children:[e.jsx(z,{value:"SC",children:"SC"}),e.jsx(z,{value:"ST",children:"ST"}),e.jsx(z,{value:"BC",children:"BC"}),e.jsx(z,{value:"OC",children:"OC"})]})}),e.jsx(a.Item,{label:"Nationality & Religion",name:"nation_religion",rules:[{required:!0,message:"Please input nationality and religion!"}],children:e.jsx(i,{placeholder:"Enter nationality & religion"})}),e.jsx(a.Item,{label:"Height (cm)",name:"hieght",rules:[{required:!0,message:"Please input height!"}],children:e.jsx(i,{placeholder:"Enter height in cm"})}),e.jsx(a.Item,{label:"Shoe Size (cm)",name:"shoe_size_cm",rules:[{required:!0,message:"Please input shoe size!"}],children:e.jsx(i,{placeholder:"Enter shoe size in cm"})}),e.jsx(a.Item,{label:"Moles",name:"moles",rules:[{required:!0,message:"Please input any moles!"}],children:e.jsx(i,{placeholder:"Enter distinguishing moles"})}),e.jsx(a.Item,{label:"Father's Name",name:"father_name",rules:[{required:!0,message:"Please input father's name!"}],children:e.jsx(i,{placeholder:"Enter father's name"})}),e.jsx(a.Item,{label:"Father's Aadhaar",name:"f_adhar",rules:[{required:!0,message:"Please input father's Aadhaar!"},{pattern:/^\d{12}$/,message:"Aadhaar number must be exactly 12 digits long!"}],children:e.jsx(i,{type:"text",placeholder:"Enter Father Aadhaar number",maxLength:12,onInput:l=>{l.target.value=l.target.value.replace(/[^0-9]/g,"")}})}),e.jsx(a.Item,{label:"Mother's Name",name:"mother_name",rules:[{required:!0,message:"Please input mother's name!"}],children:e.jsx(i,{placeholder:"Enter mother's name"})}),e.jsx(a.Item,{label:"Mother's Aadhaar",name:"m_adhar",rules:[{required:!0,message:"Please input mother's Aadhaar!"},{pattern:/^\d{12}$/,message:"Aadhaar number must be exactly 12 digits!"}],children:e.jsx(i,{type:"text",placeholder:"Enter Mother Aadhaar number",maxLength:12,onInput:l=>{l.target.value=l.target.value.replace(/[^0-9]/g,"")}})}),e.jsx(a.Item,{label:"Occupation",name:"ocupation",rules:[{required:!0,message:"Please input occupation!"}],children:e.jsx(i,{placeholder:"Enter occupation"})})]})})}),e.jsx(V,{title:"Student Details",bordered:!0,className:"form-card",children:e.jsx("div",{className:"bg-base-200 p-4 rounded-md",children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[e.jsx(a.Item,{label:"Bank Account Number",name:"bannk_ac_no",rules:[{required:!0,message:"Please input bank account number!"},{pattern:/^\d{11,16}$/,message:"Bank account number must be between 11 and 16 digits!"}],children:e.jsx(i,{type:"text",placeholder:"Enter student Aadhaar number",maxLength:16,onInput:l=>{l.target.value=l.target.value.replace(/[^0-9]/g,"")}})}),e.jsx(a.Item,{label:"IFSC Code",name:"ifsc_code",rules:[{required:!0,message:"Please input IFSC code!"},{pattern:/^[A-Z]{4}0[A-Z0-9]{6}$/,message:"IFSC code must be in the format: XXXX0YYYYYY (X=letters, Y=numbers)"}],children:e.jsx(i,{placeholder:"Enter IFSC code",maxLength:11})}),e.jsx(a.Item,{label:"Bank Name",name:"bannk_name",rules:[{required:!0,message:"Please input bank name!"}],children:e.jsx(i,{placeholder:"Enter bank name"})}),e.jsx(a.Item,{label:"Address",name:"address",rules:[{required:!0,message:"Please input address!"}],children:e.jsx(i,{placeholder:"Enter address"})}),e.jsx(a.Item,{label:"Ration Card Number",name:"ration_card_no",rules:[{required:!0,message:"Please input ration card number!"}],children:e.jsx(i,{placeholder:"Enter ration card number"})}),e.jsx(a.Item,{label:"Mobile Number",name:"mobile_no",rules:[{required:!0,message:"Please input mobile number!"},{pattern:/^(?:[6789]\d{9})$/,message:"Mobile number must be a 10-digit number starting with 6, 7, 8, or 9!"}],children:e.jsx(i,{placeholder:"Enter mobile number",maxLength:10,onInput:l=>{l.target.value=l.target.value.replace(/[^0-9]/g,"")}})}),e.jsx(a.Item,{label:"Guardian",name:"guardian",rules:[{required:!0,message:"Please input guardian name!"}],children:e.jsx(i,{placeholder:"Enter guardian name"})}),e.jsx(a.Item,{label:"TV Type",name:"tv_type",rules:[{required:!0,message:"Please select TV type!"}],children:e.jsxs(C,{placeholder:"Select TV type",children:[e.jsx(C.Option,{value:"Analog",children:"Analog"}),e.jsx(C.Option,{value:"Smart",children:"Smart"}),e.jsx(C.Option,{value:"Advanced",children:"Advanced"}),e.jsx(C.Option,{value:"No TV",children:"No TV"})]})}),e.jsx(a.Item,{label:"TV Connection",name:"tv_connection",rules:[{required:!0,message:"Please select TV connection!"}],children:e.jsxs(C,{placeholder:"Select TV connection",children:[e.jsx(z,{value:"Cable",children:"Cable"}),e.jsx(z,{value:"DTH",children:"DTH"}),e.jsx(z,{value:"Not Applicable",children:"Not Applicable"})]})}),e.jsx(a.Item,{label:"DTH Provider",name:"dth_name",rules:[{required:!0,message:"Please select DTH provider!"}],children:e.jsxs(C,{placeholder:"Select DTH provider",children:[e.jsx(z,{value:"Tata Sky",children:"Tata Sky"}),e.jsx(z,{value:"Bharat Business",children:"Bharat Business"}),e.jsx(z,{value:"Dish TV",children:"Dish TV"}),e.jsx(z,{value:"SUN Direct",children:"SUN Direct"}),e.jsx(z,{value:"Airtel",children:"Airtel"}),e.jsx(z,{value:"M/s Reliance BIG TV",children:"M/s Reliance BIG TV"}),e.jsx(z,{value:"Others",children:"Others"}),e.jsx(z,{value:"Not Applicable",children:"Not Applicable"})]})}),e.jsx(a.Item,{label:"Mobile Type",name:"mobile_type",rules:[{required:!0,message:"Please select mobile type!"}],children:e.jsxs(C,{placeholder:"Select mobile type",children:[e.jsx(z,{value:"Basic",children:"Basic"}),e.jsx(z,{value:"Smart",children:"Smart"}),e.jsx(z,{value:"No Mobile",children:"No Mobile"})]})}),e.jsx(a.Item,{label:"Computer Available?",name:"computer",rules:[{required:!0,message:"Please input computer type!"}],children:e.jsxs(C,{placeholder:"Enter computer availability",children:[e.jsx(z,{value:"Yes",children:"Yes"}),e.jsx(z,{value:"No",children:"No"})]})}),e.jsx(a.Item,{label:"Internet Availability",name:"internet",rules:[{required:!0,message:"Please input internet availability!"}],children:e.jsxs(C,{placeholder:"Enter internet availability",children:[e.jsx(z,{value:"Yes",children:"Yes"}),e.jsx(z,{value:"No",children:"No"})]})})]})})}),e.jsx(V,{title:"Student Status Details",bordered:!0,className:"form-card",children:e.jsx("div",{className:"bg-base-200 p-4 rounded-md",children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[e.jsx(a.Item,{label:"TC Number Issued",name:"tc_no_issue",rules:[{required:!1,message:"Please input TC number issued!"}],children:e.jsx(i,{placeholder:"Enter TC number issued"})}),e.jsx(a.Item,{label:"Date of Issue",name:"date_of_issue",rules:[{required:!1,message:"Please select date of issue!"}],children:e.jsx(K,{placeholder:"Select date of issue",format:"DD-MM-YYYY"})}),e.jsx(a.Item,{label:"Completed Class",name:"complted_class",rules:[{required:!1,message:"Please input completed class!"}],children:e.jsx(i,{placeholder:"Enter completed class"})}),e.jsx(a.Item,{label:"Leaving Class",name:"leaving_class",rules:[{required:!1,message:"Please input leaving class!"}],children:e.jsx(i,{placeholder:"Enter leaving class"})})]})})}),e.jsx(a.Item,{children:e.jsx("div",{className:"flex justify-center",children:e.jsx("button",{type:"submit",className:`btn btn-outline border-2 btn-success w-32 font-bold text-success hover:text-gray-600 ${y?"btn-disabled":"btn-primary"}`,disabled:y,children:y?"Updating...":"Update"})})})]})]}),m&&e.jsx("div",{className:"toast toast-top toast-end z-50",children:e.jsx("div",{className:`alert alert-${h}`,children:e.jsx("span",{children:m})})})]})},Y=oe.create({page:{padding:30},container:{padding:15,border:"3px solid black",borderRadius:10,marginBottom:15},section:{marginBottom:10,padding:10},fieldRow:{display:"flex",flexDirection:"row",justifyContent:"space-between",marginBottom:5,fontSize:14},fieldLeft:{width:"45%",textAlign:"left",fontSize:14},fieldCenter:{width:"10%",textAlign:"center",fontSize:14},fieldRight:{width:"45%",textAlign:"right",fontSize:14},value:{fontSize:12,marginBottom:10,marginTop:5},values:{fontSize:12,marginBottom:10,marginTop:20,marginRight:20},valu:{fontSize:12,marginBottom:10},legendLabel:{fontSize:18,fontWeight:"bold",padding:4,marginBottom:8,borderBottom:"1px solid black",borderTop:"1px solid black",textAlign:"center"},headerSection:{display:"flex",flexDirection:"row",justifyContent:"space-between",alignItems:"center",backgroundColor:"#f0f0f0",padding:10,borderRadius:10,marginBottom:0},logo:{width:50,height:50},textContainer:{flex:1,display:"flex",alignItems:"center",justifyContent:"center"},title1:{fontSize:16,fontWeight:"bold",textAlign:"center"},title2:{fontSize:14,textAlign:"center"},declaration:{marginTop:10,fontSize:16,textAlign:"justify",marginVertical:10},underline:{textDecoration:"underline"}}),_t=({record:t})=>e.jsx(de,{children:e.jsx(ce,{size:"A4",style:Y.page,children:e.jsxs(r,{style:Y.container,children:[e.jsxs(r,{style:Y.headerSection,children:[e.jsx(ae,{style:Y.logo,src:"https://i.postimg.cc/2ygF6cCy/SRK.png"}),e.jsxs(r,{style:Y.textContainer,children:[e.jsx(s,{style:Y.title1,children:"Z P P HIGH SCHOOL- P KOTTAM"}),e.jsx(s,{style:Y.title2,children:"KOTANANDURU MANDAL, KAKINADA, 533407"})]}),e.jsx(ae,{style:Y.logo,src:"https://i.postimg.cc/2ygF6cCy/SRK.png"})]}),e.jsxs(r,{style:Y.section,children:[e.jsx(s,{style:Y.legendLabel,children:"STUDY CERTIFICATE"}),e.jsxs(r,{style:Y.fieldRow,children:[e.jsx(r,{style:Y.fieldLeft,children:e.jsxs(s,{style:Y.value,children:["Date of Joining: ",t.doj]})}),e.jsx(r,{style:Y.fieldCenter}),e.jsx(r,{style:Y.fieldRight,children:e.jsxs(s,{style:Y.value,children:["Admission No: ",t.adm_no]})})]})]}),e.jsxs(s,{style:Y.declaration,children:["           This is to certify that"," ",t.gender==="Boy"?"Mr.":"Miss."," ",e.jsxs(s,{style:Y.underline,children:[t.sur_name," ",t.name]}),", Son / Daughter of Sri"," ",e.jsx(s,{style:Y.underline,children:t.father_name})," and Smt"," ",e.jsx(s,{style:Y.underline,children:t.mother_name}),", has studied in this institution from class ",e.jsx(s,{style:Y.underline,children:t.form_class})," to class"," ",e.jsx(s,{style:Y.underline,children:t.to_class})," during the academic years from"," ",e.jsx(s,{style:Y.underline,children:t.form_year})," to"," ",e.jsx(s,{style:Y.underline,children:t.to_year}),", with admission number"," ",e.jsx(s,{style:Y.underline,children:t.adm_no})," as per our school records."]}),e.jsxs(r,{style:Y.fieldRow,children:[e.jsx(r,{style:Y.fieldLeft,children:e.jsx(s,{style:Y.values,children:"Place: ___________"})}),e.jsx(r,{style:Y.fieldCenter}),e.jsx(r,{style:Y.fieldRight,children:e.jsx(s,{style:Y.values,children:"Signature of HM "})})]}),e.jsxs(r,{style:Y.fieldRow,children:[e.jsx(r,{style:Y.fieldLeft,children:e.jsx(s,{style:Y.valu,children:"Date: ___________"})}),e.jsx(r,{style:Y.fieldCenter}),e.jsx(r,{style:Y.fieldRight,children:e.jsx(s,{style:Y.values})})]})]})})}),E=oe.create({page:{padding:30},container:{padding:15,border:"3px solid black",borderRadius:10,marginBottom:15},section:{marginBottom:10,padding:10},fieldRow:{display:"flex",flexDirection:"row",justifyContent:"space-between",marginBottom:5,fontSize:14},fieldLeft:{width:"45%",textAlign:"left",fontSize:14},fieldCenter:{width:"10%",textAlign:"center",fontSize:14},fieldRight:{width:"45%",textAlign:"right",fontSize:14},value:{fontSize:12,marginBottom:10,marginTop:5},values:{fontSize:12,marginBottom:10,marginTop:20,marginRight:20},valu:{fontSize:12,marginBottom:10},legendLabel:{fontSize:18,fontWeight:"bold",padding:4,marginBottom:8,borderBottom:"1px solid black",borderTop:"1px solid black",textAlign:"center"},headerSection:{display:"flex",flexDirection:"row",justifyContent:"space-between",alignItems:"center",backgroundColor:"#f0f0f0",padding:10,borderRadius:10,marginBottom:0},logo:{width:50,height:50},textContainer:{flex:1,display:"flex",alignItems:"center",justifyContent:"center"},title1:{fontSize:16,fontWeight:"bold",textAlign:"center"},title2:{fontSize:14,textAlign:"center"},declaration:{marginTop:10,fontSize:16,textAlign:"justify",marginVertical:10},underline:{textDecoration:"underline"}}),Ie=({record:t})=>e.jsx(de,{children:e.jsx(ce,{size:"A4",style:E.page,children:e.jsxs(r,{style:E.container,children:[e.jsxs(r,{style:E.headerSection,children:[e.jsx(ae,{style:E.logo,src:"https://i.postimg.cc/2ygF6cCy/SRK.png"}),e.jsxs(r,{style:E.textContainer,children:[e.jsx(s,{style:E.title1,children:"Z P P HIGH SCHOOL- P KOTTAM"}),e.jsx(s,{style:E.title2,children:"KOTANANDURU MANDAL, KAKINADA, 533407"})]}),e.jsx(ae,{style:E.logo,src:"https://i.postimg.cc/2ygF6cCy/SRK.png"})]}),e.jsxs(r,{style:E.section,children:[e.jsx(s,{style:E.legendLabel,children:"CONDUCT CERTIFICATE"}),e.jsxs(r,{style:E.fieldRow,children:[e.jsx(r,{style:E.fieldLeft,children:e.jsxs(s,{style:E.value,children:["Date of Joining: ",t.doj]})}),e.jsx(r,{style:E.fieldCenter}),e.jsx(r,{style:E.fieldRight,children:e.jsxs(s,{style:E.value,children:["Admission No: ",t.adm_no]})})]})]}),e.jsxs(s,{style:E.declaration,children:["           This is to certify that "," ",t.gender==="Boy"?"Mr.":"Miss."," ",e.jsxs(s,{style:E.underline,children:[t.sur_name," ",t.name]}),", Son / Daughter of Sri"," ",e.jsx(s,{style:E.underline,children:t.father_name})," and Smt"," ",e.jsx(s,{style:E.underline,children:t.mother_name}),", has studied in this institution from class ",e.jsx(s,{style:E.underline,children:t.form_class})," to class"," ",e.jsx(s,{style:E.underline,children:t.to_class})," during the academic years from"," ",e.jsx(s,{style:E.underline,children:t.form_year})," to"," ",e.jsx(s,{style:E.underline,children:t.to_year}),", with admission number"," ",e.jsx(s,{style:E.underline,children:t.adm_no})," as per our school records. And "," ",t.gender==="Boy"?"His":"Her"," "," "," Conduct is: ",e.jsx(s,{style:E.underline,children:"___________"}),"."]}),e.jsxs(r,{style:E.fieldRow,children:[e.jsx(r,{style:E.fieldLeft,children:e.jsx(s,{style:E.values,children:"Place: ___________"})}),e.jsx(r,{style:E.fieldCenter}),e.jsx(r,{style:E.fieldRight,children:e.jsx(s,{style:E.values,children:"Signature of HM "})})]}),e.jsxs(r,{style:E.fieldRow,children:[e.jsx(r,{style:E.fieldLeft,children:e.jsx(s,{style:E.valu,children:"Date: ___________"})}),e.jsx(r,{style:E.fieldCenter}),e.jsx(r,{style:E.fieldRight,children:e.jsx(s,{style:E.values})})]})]})})}),be=t=>{const o=["Zero","One","Two","Three","Four","Five","Six","Seven","Eight","Nine","Ten","Eleven","Twelve","Thirteen","Fourteen","Fifteen","Sixteen","Seventeen","Eighteen","Nineteen"],g=["","","Twenty","Thirty","Forty","Fifty","Sixty","Seventy","Eighty","Ninety"];return t<20?o[t]:t<100?g[Math.floor(t/10)]+(t%10?" "+o[t%10]:""):t<1e3?o[Math.floor(t/100)]+" Hundred"+(t%100?" and "+be(t%100):""):t<1e6?be(Math.floor(t/1e3))+" Thousand"+(t%1e3?" "+be(t%1e3):""):""},St=t=>{if(!t)return"Invalid Date";const[o,g,N]=t.split("-").map(Number);if(isNaN(o)||isNaN(g)||isNaN(N)||g<1||g>12||o<1||o>31)return"Invalid Date";const f=["January","February","March","April","May","June","July","August","September","October","November","December"],y=be(o),w=f[g-1],u=be(N);return`${y} ${w}, ${u}`},M=oe.create({page:{padding:30},container:{padding:15,border:"3px solid black",borderRadius:10,marginBottom:15},section:{marginBottom:10,padding:10},fieldRow:{display:"flex",flexDirection:"row",justifyContent:"space-between",marginBottom:5,fontSize:14},fieldLeft:{width:"40%",textAlign:"left",fontSize:14},fieldCenter:{width:"20%",textAlign:"center",fontSize:14},fieldRight:{width:"40%",textAlign:"right",fontSize:14},value:{fontSize:12,marginBottom:10,marginTop:15},legendLabel:{fontSize:18,fontWeight:"bold",padding:4,marginBottom:8,borderBottom:"1px solid black",borderTop:"1px solid black",textAlign:"center"},headerSection:{display:"flex",flexDirection:"row",justifyContent:"space-between",alignItems:"center",backgroundColor:"#f0f0f0",padding:10,borderRadius:10,marginBottom:0},logo:{width:50,height:50},title1:{fontSize:16,fontWeight:"bold",textAlign:"center"},title2:{fontSize:14,textAlign:"center"},declaration:{marginTop:10,fontSize:16,textAlign:"justify",marginVertical:10},underline:{textDecoration:"underline"},textContainer:{flex:1,display:"flex",alignItems:"center",justifyContent:"center"},title1:{fontSize:16,fontWeight:"bold",textAlign:"center"},title2:{fontSize:14,textAlign:"center"}}),Ct=({record:t})=>!t||!t.dob||!t.name||!t.sur_name||!t.adm_no?e.jsx(s,{style:{color:"red"},children:"Error: Missing required record data."}):e.jsx(de,{children:e.jsx(ce,{size:"A4",style:M.page,children:e.jsxs(r,{style:M.container,children:[e.jsxs(r,{style:M.headerSection,children:[e.jsx(ae,{style:M.logo,src:"https://i.postimg.cc/2ygF6cCy/SRK.png"}),e.jsxs(r,{style:M.textContainer,children:[e.jsx(s,{style:M.title1,children:"Z P P HIGH SCHOOL- P KOTTAM"}),e.jsx(s,{style:M.title2,children:"KOTANANDURU MANDAL, KAKINADA, 533407"})]}),e.jsx(ae,{style:M.logo,src:"https://i.postimg.cc/2ygF6cCy/SRK.png"})]}),e.jsxs(r,{style:M.section,children:[e.jsx(s,{style:M.legendLabel,children:"DATE OF BIRTH CERTIFICATE"}),e.jsxs(r,{style:M.fieldRow,children:[e.jsx(r,{style:M.fieldLeft,children:e.jsxs(s,{style:M.value,children:["Date of Joining: ",t.doj||"N/A"]})}),e.jsx(r,{style:M.fieldCenter,children:e.jsxs(s,{style:M.value,children:["PEN: ",t.pen_no||"N/A"]})}),e.jsx(r,{style:M.fieldRight,children:e.jsxs(s,{style:M.value,children:["Admission No: ",t.adm_no]})})]})]}),e.jsxs(s,{style:M.declaration,children:["           This is to certify that "," ",t.gender==="Boy"?"Mr.":"Miss."," ",e.jsxs(s,{style:M.underline,children:[t.sur_name||"N/A"," ",t.name||"N/A"]}),", Son / Daughter of Sri"," ",e.jsx(s,{style:M.underline,children:t.father_name||"N/A"})," and Smt"," ",e.jsx(s,{style:M.underline,children:t.mother_name||"N/A"}),", has studied in this institution from class ",e.jsx(s,{style:M.underline,children:t.form_class||"N/A"})," to class"," ",e.jsx(s,{style:M.underline,children:t.to_class||"N/A"})," during the academic years from"," ",e.jsx(s,{style:M.underline,children:t.form_year||"N/A"})," to"," ",e.jsx(s,{style:M.underline,children:t.to_year||"N/A"}),", with admission number"," ",e.jsx(s,{style:M.underline,children:t.adm_no||"N/A"}),". "," ",t.gender==="Boy"?"His":"Her"," Date of Birth is"," ",e.jsx(s,{style:M.underline,children:t.dob||"N/A"})," in words"," ",e.jsxs(s,{style:M.underline,children:["(",St(t.dob),")"]}),"."]}),e.jsxs(r,{style:M.fieldRow,children:[e.jsx(r,{style:M.fieldLeft,children:e.jsx(s,{style:M.value,children:"Place: ___________"})}),e.jsx(r,{style:M.fieldRight,children:e.jsx(s,{style:M.value,children:"Signature of HM "})})]}),e.jsxs(r,{style:M.fieldRow,children:[e.jsx(r,{style:M.fieldLeft,children:e.jsx(s,{style:M.value,children:"Date: ___________"})}),e.jsx(r,{style:M.fieldRight,children:e.jsx(s,{style:M.value})})]})]})})}),{Title:ls}=he,{Option:ve}=C,wt=()=>{const[t]=a.useForm(),[o,g]=x.useState(""),[N,f]=x.useState(null),[y,w]=x.useState({study:!0,dob:!0,conduct:!0}),u=async()=>{try{const c=await J.get(`https://hsbackendpkm.vercel.app/docs/${o}`);f(c.data),t.setFieldsValue({...c.data,dob:c.data.dob?B(c.data.dob,"DD-MM-YYYY"):null,doj:c.data.doj?B(c.data.doj,"DD-MM-YYYY"):null,issue_date:c.data.issue_date?B(c.data.issue_date,"DD-MM-YYYY"):null,date_of_issue:c.data.date_of_issue?B(c.data.date_of_issue,"DD-MM-YYYY"):null}),m("Record fetched successfully!","success")}catch(c){m("Error fetching record","error"),console.error("Error:",c)}},b=c=>{w(h=>({...h,[c]:!1}))},m=(c,h="info")=>{const j=document.getElementById("toast-container");if(!j)return;const n=document.createElement("div");n.className=`alert alert-${h}`,n.innerHTML=`<span>${c}</span>`,j.appendChild(n),setTimeout(()=>{n.classList.add("opacity-0","transition-opacity","duration-500"),setTimeout(()=>n.remove(),500)},3e3)};return e.jsxs("div",{className:"p-6 bg-base-200 min-h-screen",children:[e.jsx("div",{id:"toast-container",className:"toast toast-top toast-end z-50"}),e.jsxs("div",{className:"max-w-4xl mx-auto bg-base-100 p-6 rounded-box shadow",children:[e.jsx("div",{className:"form-wrapper",children:e.jsxs("div",{className:"space-y-4",children:[e.jsx("h2",{className:"text-3xl font-bold text-primary mb-6 text-center",children:"Generate Student Certificates"}),e.jsxs("div",{className:"flex justify-center gap-4 items-center mb-6",children:[e.jsx("input",{type:"text",value:o,onChange:c=>g(c.target.value),placeholder:"Enter Admission Number",className:"input input-bordered input-primary w-full sm:w-64"}),e.jsx("button",{onClick:u,className:"btn btn-outline border-2 btn-success w-32 font-bold text-success hover:text-gray-600 ",children:"Fetch Record"})]})]})}),N&&e.jsxs(a,{form:t,layout:"vertical",style:{marginTop:20},children:[e.jsx(V,{title:"Admission Details",bordered:!0,className:"form-card",children:e.jsx("div",{className:"bg-base-200 p-4 rounded-md",children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[e.jsx(a.Item,{label:"Adm No",name:"adm_no",rules:[{required:!0,message:"Please input surname!"}],children:e.jsx(i,{placeholder:"Enter Admission Number",readOnly:!0})}),e.jsx(a.Item,{label:"Date of Joining",name:"doj",rules:[{required:!0,message:"Please select Date of Joining!"}],children:e.jsx(K,{placeholder:"Select date of joining",format:"DD-MM-YYYY",disabled:!0})}),e.jsx(a.Item,{label:"Joining Class",name:"join_class",rules:[{required:!0,message:"Please select a Class!"}],children:e.jsx(C,{placeholder:"Select Class",disabled:!0,children:Array.from({length:10},(c,h)=>e.jsx(ve,{value:h+1,children:h+1},h+1))})})]})})}),e.jsx(V,{title:"Student Details",bordered:!0,className:"form-card",children:e.jsx("div",{className:"bg-base-200 p-4 rounded-md",children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[e.jsx(a.Item,{label:"PEN Number",name:"pen_no",rules:[{required:!0,message:"Please input PEN number!"},{pattern:/^\d{11,12}$/,message:"PEN number must be 11 to 12 digits long and only contain numbers!"}],children:e.jsx(i,{type:"text",placeholder:"Enter PEN number",minLength:11,maxLength:12,readOnly:!0})}),e.jsx(a.Item,{label:"Surname",name:"sur_name",rules:[{required:!0,message:"Please input surname!"}],children:e.jsx(i,{placeholder:"Enter surname",readOnly:!0})}),e.jsx(a.Item,{label:"Name",name:"name",rules:[{required:!0,message:"Please input name!"}],children:e.jsx(i,{placeholder:"Enter name",readOnly:!0})}),e.jsx(a.Item,{label:"Date of Birth",name:"dob",rules:[{required:!0,message:"Please select your date of birth!"}],children:e.jsx(K,{placeholder:"Select date of birth",format:"DD-MM-YYYY",disabled:!0})}),e.jsx(a.Item,{label:"Gender",name:"gender",rules:[{required:!0,message:"Please select gender!"}],children:e.jsxs(C,{placeholder:"Select gender",disabled:!0,children:[e.jsx(ve,{value:"Boy",children:"Boy"}),e.jsx(ve,{value:"Girl",children:"Girl"}),e.jsx(ve,{value:"Other",children:"Other"})]})}),e.jsx(a.Item,{label:"Student Aadhaar",name:"st_adhar",rules:[{required:!0,message:"Please input student Aadhaar!"},{pattern:/^\d{12}$/,message:"Student Aadhaar must be exactly 12 digits!"}],children:e.jsx(i,{type:"text",placeholder:"Enter student Aadhaar number",maxLength:12,readOnly:!0})}),e.jsx(a.Item,{label:"Father's Name",name:"father_name",rules:[{required:!0,message:"Please input father's name!"}],children:e.jsx(i,{placeholder:"Enter father's name",readOnly:!0})}),e.jsx(a.Item,{label:"Class From",name:"form_class",rules:[{required:!0,message:"Please input bank name!"}],children:e.jsx(i,{placeholder:"Enter bank name",readOnly:!0})}),e.jsx(a.Item,{label:"Class To",name:"to_class",rules:[{required:!0,message:"Please input address!"}],children:e.jsx(i,{placeholder:"Enter address",readOnly:!0})}),e.jsx(a.Item,{label:"Year Form",name:"form_year",rules:[{required:!0,message:"Please input ration card number!"}],children:e.jsx(i,{placeholder:"Enter ration card number",readOnly:!0})}),e.jsx(a.Item,{label:"Year To",name:"to_year",rules:[{required:!0,message:"Please input guardian name!"}],children:e.jsx(i,{placeholder:"Enter guardian name",readOnly:!0})}),e.jsx(a.Item,{label:"Status",name:"status",rules:[{required:!1,message:"Please input leaving class!"}],children:e.jsx(i,{placeholder:"Enter leaving class",readOnly:!0})}),e.jsx(a.Item,{label:"TC Number Issued",name:"tc_no_issue",rules:[{required:!1,message:"Please input TC number issued!"}],children:e.jsx(i,{placeholder:"Enter TC number issued",readOnly:!0})}),e.jsx(a.Item,{label:"Date of Issue",name:"date_of_issue",rules:[{required:!1,message:"Please select date of issue!"}],children:e.jsx(K,{placeholder:"Select date of issue",format:"DD-MM-YYYY",disabled:!0})})]})})}),e.jsx(a.Item,{children:e.jsxs("div",{style:{display:"flex",justifyContent:"center",marginRight:10},children:[e.jsx(je,{document:e.jsx(_t,{record:N}),fileName:`study_certificate_${o}.pdf`,children:({loading:c})=>(!c&&y.study&&b("study"),e.jsx(ie,{type:"primary",style:{width:100,marginRight:40},loading:y.study&&c,disabled:y.study,children:c?"Preparing...":"Study"}))}),e.jsx(je,{document:e.jsx(Ct,{record:N}),fileName:`dob_certificate_${o}.pdf`,children:({loading:c})=>(!c&&y.dob&&b("dob"),e.jsx(ie,{type:"primary",style:{width:100,marginRight:40},loading:y.dob&&c,disabled:y.dob,children:c?"Preparing...":"DOB"}))}),e.jsx(je,{document:e.jsx(Ie,{record:N}),fileName:`conduct_certificate_${o}.pdf`,children:({loading:c})=>(!c&&y.conduct&&b("conduct"),e.jsx(ie,{type:"primary",style:{width:100,marginRight:40},loading:y.conduct&&c,disabled:y.conduct,children:c?"Preparing...":"Conduct"}))}),e.jsx(je,{document:e.jsx(Ie,{record:N}),fileName:`conduct_certificate_${o}.pdf`,children:({loading:c})=>c||y.conduct?(!c&&y.conduct&&b("conduct"),e.jsx(ie,{type:"primary",style:{width:100,marginRight:40},loading:y.conduct&&c,disabled:y.conduct,children:c?"Preparing...":"Conduct"})):null})]})})]})]})]})},T=oe.create({page:{padding:30,fontSize:12},header:{fontSize:14,marginBottom:5,textAlign:"center"},underline:{textDecoration:"underline"},line:{borderBottomWidth:1,borderBottomColor:"#000",marginVertical:5},row:{flexDirection:"row",justifyContent:"space-between"},leftText:{textAlign:"left"},rightText:{textAlign:"right"},table:{display:"table",width:"100%",marginTop:10},tableRow:{flexDirection:"row"},tableCellHeader:{flex:1,padding:5,fontSize:10,fontWeight:"bold",backgroundColor:"#f0f0f0",borderWidth:1,borderColor:"#000",borderStyle:"solid",textAlign:"center"},tableCell:{flex:1,padding:5,fontSize:10,borderWidth:1,borderColor:"#000",borderStyle:"solid"},signature:{textAlign:"right",marginRight:20,marginTop:30,fontWeight:"bold"},copy:{textAlign:"left",marginLeft:20,marginTop:5,fontWeight:"bold"},additionalText:{marginTop:5,marginBottom:5,textAlign:"left",fontStyle:"italic",paddingLeft:60},additional:{marginTop:5,marginBottom:5,fontStyle:"italic",textAlign:"justify"}}),Dt=({data:t})=>e.jsx(de,{children:t.length>0&&e.jsxs(ce,{size:"A4",style:T.page,wrap:!0,children:[e.jsx(s,{style:T.header,children:"Proceedings of the Headmaster ZPHS P Kottam, Kotananduru"}),e.jsxs(s,{style:[T.header,T.underline],children:["Present: Sri/Smt/Kum "," ",t[0].ddo_name]}),e.jsxs(r,{style:T.row,children:[e.jsxs(s,{style:T.leftText,children:["Proc.Rc.No: ",t[0].proceeding_no]}),e.jsxs(s,{style:T.rightText,children:["Date: ",t[0].date]})]}),e.jsx(r,{style:T.line}),e.jsx(s,{style:T.additionalText,children:"Sub:- Education - Secondary Education - Sanction of Annual Grade Increment to the staff of ZPHS P Kottam - orders issued."}),e.jsxs(s,{style:T.additionalText,children:["Ref:- 1. G.O.Ms.No.40, Edn, dt.07-05-2002",`
`,"     2. Application of the individuals."]}),e.jsx(s,{style:[T.header],children:"**************"}),e.jsx(s,{style:T.additionalText,children:"   ORDER:"}),e.jsx(s,{style:T.additional,children:"              As per the provisions contained in the reference cited, the Headmaster ZPHS P. Kottam, is pleased to sanction Annual Grade Increment to the staff of ZPHS P. Kottam. Hence the Incumbents are hereby sanctioned their Annual Grade Increments as per the annexure shown below."}),e.jsx(s,{style:[T.header,T.underline],children:"Annexure"}),e.jsxs(r,{style:T.table,children:[e.jsxs(r,{style:T.tableRow,children:[e.jsx(s,{style:T.tableCellHeader,children:"Name"}),e.jsx(s,{style:T.tableCellHeader,children:"Designation"}),e.jsx(s,{style:T.tableCellHeader,children:"Scale of Pay"}),e.jsx(s,{style:T.tableCellHeader,children:"Present Pay"}),e.jsx(s,{style:T.tableCellHeader,children:"Rate of Increment"}),e.jsx(s,{style:T.tableCellHeader,children:"Future Pay"}),e.jsx(s,{style:T.tableCellHeader,children:"Effect Date"}),e.jsx(s,{style:T.tableCellHeader,children:"Next Increment Date"})]}),t.map((o,g)=>e.jsxs(r,{style:T.tableRow,children:[e.jsx(s,{style:T.tableCell,children:o.name}),e.jsx(s,{style:T.tableCell,children:o.designation}),e.jsx(s,{style:T.tableCell,children:o.pay_scale}),e.jsx(s,{style:T.tableCell,children:o.present_pay}),e.jsx(s,{style:T.tableCell,children:o.rate_increment}),e.jsx(s,{style:T.tableCell,children:o.future_pay}),e.jsx(s,{style:T.tableCell,children:o.effect_date}),e.jsx(s,{style:T.tableCell,children:o.next_date})]},g))]}),e.jsx(s,{style:T.additional,children:"              Necessary entries are made in the Service Registers of the Individuals. If any excess paid in this regard that amount will be recovered from the individual lump sum without any notice."}),e.jsx(s,{style:T.signature,children:"Signature of the HM"}),e.jsx(s,{style:T.copy,children:"Copy to:"}),e.jsx(s,{style:T.copy,children:"1. Individual"}),e.jsx(s,{style:T.copy,children:"2. Stock file."}),e.jsx(s,{style:T.copy,children:"3. The STO."})]})}),{Title:Pt}=he,It=()=>{const[t]=a.useForm(),[o,g]=x.useState(!1),[N,f]=x.useState([{}]),y=()=>{f([...N,{}])},w=m=>{const c=N.filter((h,j)=>j!==m);f(c)},u=async m=>{g(!0);const c=N.map((h,j)=>({proceeding_no:j===0?m.proceeding_no:void 0,date:j===0&&m.date?m.date.format("DD-MM-YYYY"):void 0,ddo_name:j===0?m.ddo_name:void 0,name:h.name,designation:h.designation,present_pay:h.present_pay,rate_increment:h.rate_increment,future_pay:h.future_pay,effect_date:h.effect_date?h.effect_date.format("DD-MM-YYYY"):void 0,next_date:h.next_date?h.next_date.format("DD-MM-YYYY"):void 0,pay_scale:h.pay_scale}));try{await J.post("https://hsbackendpkm.vercel.app/multy",c),me.success("Increment data submitted successfully!");const h=await _e(e.jsx(Dt,{data:c})).toBlob(),j=URL.createObjectURL(h),n=document.createElement("a");n.href=j,n.setAttribute("download","increment_form.pdf"),document.body.appendChild(n),n.click(),n.remove(),URL.revokeObjectURL(j),t.resetFields(),f([{}]),f(l=>l.map(()=>({name:"",designation:"",present_pay:"",rate_increment:"",future_pay:"",effect_date:null,next_date:null,pay_scale:""})))}catch(h){me.error("Error submitting Increment data"),console.error("Error:",h)}finally{g(!1)}},b=(m,c,h)=>{const j=[...N];if(j[m]={...j[m],[c]:h},c==="present_pay"||c==="rate_increment"){const n=j[m].present_pay||0,l=j[m].rate_increment||0;j[m].future_pay=parseFloat(n)+parseFloat(l)}f(j)};return e.jsx("div",{className:"p-6 bg-base-200 min-h-screen",children:e.jsxs("div",{className:"max-w-4xl mx-auto bg-base-100 p-6 rounded-box shadow",children:[e.jsx(Pt,{level:2,className:"form-header",children:"Increment Form"}),e.jsxs(a,{form:t,layout:"vertical",onFinish:u,children:[e.jsx(V,{title:"Leave Details",bordered:!0,className:"form-card",children:e.jsx("div",{className:"bg-base-200 p-4 rounded-md",children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[e.jsx(a.Item,{label:"Proceeding No",name:"proceeding_no",rules:[{required:!0,message:"Please enter the proceeding number!"}],className:"field-item",children:e.jsx(i,{placeholder:"Enter Proceeding No"})}),e.jsx(a.Item,{label:"Date",name:"date",rules:[{required:!0,message:"Please select the date!"}],className:"field-item",children:e.jsx(K,{format:"DD-MM-YYYY",style:{width:"100%"},placeholder:"Select Date"})}),e.jsx(a.Item,{label:"DDO Name And Qualifications",name:"ddo_name",rules:[{required:!0,message:"Please enter the DDO name!"}],className:"field-item",children:e.jsx(i,{placeholder:"Enter DDO Name"})})]})})}),N.map((m,c)=>e.jsx(V,{title:`Employee ${c+1}`,bordered:!0,className:"form-card",children:e.jsx("div",{className:"bg-base-200 p-4 rounded-md",children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[e.jsx(a.Item,{label:"Name",rules:[{required:!0,message:"Please enter the name!"}],children:e.jsx(i,{placeholder:"Enter Name",value:m.name,onChange:h=>b(c,"name",h.target.value)})}),e.jsx(a.Item,{label:"Designation",rules:[{required:!0,message:"Please enter the designation!"}],children:e.jsx(i,{placeholder:"Enter Designation",value:m.designation,onChange:h=>b(c,"designation",h.target.value)})}),e.jsx(a.Item,{label:"Scale of Pay",rules:[{required:!0,message:"Please enter the Scale of Pay!"}],children:e.jsx(i,{placeholder:"Enter Scale of Pay",value:m.pay_scale,onChange:h=>b(c,"pay_scale",h.target.value)})}),e.jsx(a.Item,{label:"Present Pay",rules:[{required:!0,message:"Please enter the present pay!"}],children:e.jsx(i,{placeholder:"Enter Present Pay",type:"number",min:0,value:m.present_pay,onChange:h=>b(c,"present_pay",h.target.value)})}),e.jsx(a.Item,{label:"Rate of Increment",rules:[{required:!0,message:"Please enter the rate of increment!"}],children:e.jsx(i,{placeholder:"Enter Rate of Increment",type:"number",min:0,value:m.rate_increment,onChange:h=>b(c,"rate_increment",h.target.value)})}),e.jsx(a.Item,{label:"Future Pay",children:e.jsx(i,{placeholder:"Future Pay",value:m.future_pay,readOnly:!0})}),e.jsx(a.Item,{label:"Effect Date",children:e.jsx(K,{format:"DD-MM-YYYY",value:m.effect_date,onChange:h=>b(c,"effect_date",h),placeholder:"Select Effect Date",style:{width:"100%"}})}),e.jsx(a.Item,{label:"Next Increment Date",children:e.jsx(K,{format:"DD-MM-YYYY",value:m.next_date,onChange:h=>b(c,"next_date",h),placeholder:"Select Next Increment Date",style:{width:"100%"}})}),e.jsx("div",{className:"flex items-end",children:e.jsx(ie,{type:"danger",onClick:()=>w(c),style:{width:"100%",color:"red",fontWeight:"bold"},children:"Remove Employee"})})]})})},c)),e.jsx("div",{className:"flex justify-center mb-5",children:e.jsx("button",{onClick:y,className:"btn btn-outline btn-accent btn-soft w-[200px]",children:"Add Employee"})}),e.jsx("div",{className:"flex justify-center mt-6",children:e.jsx("button",{type:"submit",disabled:o,className:`btn btn-primary btn-soft w-[200px] ${o?"btn-disabled":""}`,children:o?e.jsxs(e.Fragment,{children:[e.jsx("span",{className:"loading loading-spinner loading-sm mr-2"}),"Submitting..."]}):"Submit"})})]})]})})},A=oe.create({page:{padding:30,fontSize:12},header:{textAlign:"center",marginBottom:5,fontSize:14,fontWeight:"bold",pageBreakInside:"avoid"},underline:{textDecoration:"underline"},row:{flexDirection:"row",justifyContent:"space-between",marginBottom:5},leftText:{textAlign:"left"},rightText:{textAlign:"right"},line:{marginVertical:8,borderBottomWidth:1,borderBottomColor:"#000",pageBreakInside:"avoid"},additionalText:{marginVertical:8,lineHeight:1.5,textAlign:"justify",paddingLeft:50,pageBreakInside:"avoid"},table:{display:"table",width:"auto",marginVertical:5,borderWidth:1,borderColor:"#000",pageBreakInside:"avoid"},tableRow:{flexDirection:"row"},tableCellHeader:{flex:1,padding:5,backgroundColor:"#d3d3d3",fontWeight:"bold",textAlign:"center",borderRightWidth:1,borderRightColor:"#000",borderBottomWidth:1,borderBottomColor:"#000"},tableCell:{flex:1,padding:5,textAlign:"center",borderRightWidth:1,borderRightColor:"#000",borderBottomWidth:1,borderBottomColor:"#000"},lastTableCell:{borderRightWidth:0},signature:{marginTop:15,textAlign:"right",pageBreakInside:"avoid"},copy:{marginTop:5,pageBreakInside:"avoid"},additional:{marginVertical:10,lineHeight:1.5,marginTop:5,marginBottom:5,fontStyle:"italic",textAlign:"justify",pageBreakInside:"avoid"}}),At=(t,o)=>{const g=De(t,"DD-MM-YYYY"),N=De(o,"DD-MM-YYYY");return!g.isValid()||!N.isValid()?"Invalid Date":N.diff(g,"days")+1},Tt=({data:t})=>{const o=At(t.from_date,t.to_date);return e.jsx(de,{children:e.jsxs(ce,{size:"A4",style:A.page,children:[e.jsx(s,{style:A.header,children:"Proceedings of the Headmaster Z P P HIGH SCHOOL- P KOTTAM, KOTANANDURU"}),e.jsxs(s,{style:[A.header,A.underline],children:["Present: Sri/Smt/Kum ",t.ddo_name]}),e.jsxs(r,{style:A.row,children:[e.jsxs(s,{style:A.leftText,children:["Proc.Rc.No: ",t.proceeding_no]}),e.jsxs(s,{style:A.rightText,children:["Date: ",t.date]})]}),e.jsx(r,{style:A.line}),e.jsxs(s,{style:A.additionalText,children:["Sub:- APESS- Sanction of ",t.type_of_leave," leave to ",t.name,",",t.designation,", ZPHS P Kottam - sanction - orders - issued."]}),e.jsxs(s,{style:A.additionalText,children:[t.type_of_leave==="Meternity"&&e.jsxs(e.Fragment,{children:["Ref :- 1. G.O. Ms .No.295, Dt13.5.1985",`
`,"        2. G.O.Ms.No. 152 Date:04. 05. 2010.",`
`,"        3. G.O.MS .NO.40 (Edn), Dt: 07.05.2002",`
`,"        4. Application of the individual.",`
`,"        5. Medical Certificate.",`
`]}),t.type_of_leave==="Peternity"&&e.jsxs(e.Fragment,{children:["Ref :- 1.G.O.Ms.No. 40 (Edn), dt.07.05.2002.",`
`,"        2. G.O.Ms.No.231, FIN & PLANING DEPT. DT.16-9-2005",`
`,"        3. Cir.memo No.20129-C/454/FR.1/2010 Dated:21-07-2010",`
`,"        4.Medical Certificate dated:",`
`,"        5. Application of the individual.",`
`]}),t.type_of_leave==="EOL"&&e.jsxs(e.Fragment,{children:["Ref :- 1.G.O.Ms.No. 214 (F&P), dt.03.09.1996",`
`,"        2. G.O.Ms.No. 234 (F&P), dt.27.05.1994",`
`,"        3. G.O.Ms.No. 40 (Edn), dt.07.05.2002.",`
`,"        4. Medical Certificate",`
`,"        5. Requisition of the individual.",`
`]}),t.type_of_leave==="Commutation"&&e.jsxs(e.Fragment,{children:["Ref :- 1. G.O.Ms.No.40,Edn, dt.07-05-2002",`
`,"        2. G.O.Ms.No:186,Dt:23/07/1975.& A.P.Leave Rules.",`
`,"        3. Medical Certificate.",`
`,"        4. Application of the individual.",`
`]}),t.type_of_leave==="Mis Carriage"&&e.jsxs(e.Fragment,{children:["Ref :- 1. G.O. M.S.No. 295 Fin &Plag. Dt :13.8.1985",`
`,"        2. Application of the individual along with the Medical Certificate.",`
`]}),t.type_of_leave==="Histerictomy"&&e.jsxs(e.Fragment,{children:["Ref :- 1. G.O. M.S.No. 52 Fin (FR.I) Dept. Dt :01.04.2011",`
`,"        2. Application of the individual along with the Medical Certificate.",`
`]}),!["Meternity","Peternity","EOL","Commutation","Mis Carriage","Histerictomy"].includes(t.type_of_leave)&&e.jsxs(e.Fragment,{children:["Ref:- 1. G.O.Ms.No.40, Edn, dt.07-05-2002",`
`,"        2. A.P. Leave Rules.",`
`,"        3. Application and Documents produced by the individual.",`
`]})]}),e.jsx(s,{style:A.header,children:"**************"}),e.jsxs(s,{style:A.additional,children:[t.type_of_leave==="Meternity"&&e.jsxs(e.Fragment,{children:["             In the reference 1 to 4 cited and on the basis of the reference 5th cited, 180 days of maternity leave from ",t.from_date," to"," ",t.to_date," "," for"," ",o," ","days has been sanctioned to  Smt"," ",t.name,","," ",t.designation,","," ","Z.P.H.S BH Kota, Mdl: Kotananduru, as she has only 01/02 living children. The individual is eligible for full pay and allowances during the period. If there is any false statement in the medical certificate and the individual's application, the maternity leave salary will be recovered from the incumbent."]}),t.type_of_leave==="Peternity"&&e.jsxs(e.Fragment,{children:["             Adverting to the above subject & reference, Sri. "," ",t.name,","," ",t.designation,","," ","working under my control has submitted his proposals for sanction of Paternity leave. As per the reference 3rd cited, in the Memo, it has been clarified that Paternity Leave by married Male Govt Employees can be availed either before 15 days or within a period of 6 months from the date of Delivery. Hence, as per the powers delegated to me vide Ref. 1 and in view of orders issued in Ref. 2, Sri."," ",t.name,","," ",t.designation,","," ","is hereby sanctioned Paternity Leave with full pay w.e.f."," ",t.from_date," ","to "," ",t.to_date," ","for"," ",o," ","days under A.P.L.R 1933 on the basis of Medical Certificate."]}),t.type_of_leave==="EOL"&&e.jsxs(e.Fragment,{children:["             As per the references 1st to 3rd cited, Extra Ordinary Leave of"," ",o," ","days i.e. from ",t.from_date," to ",t.to_date," ",o," ","days is sanctioned to Sri./Smt/Kum ",t.name,","," ",t.designation,","," ","Z.P.H.S BH Kota, as per the reference 5th cited on the grounds of "," ",t.reason," ","reasons. This extraordinary leave will be counted for the annual periodical increment and 6/12/18/24 years automatic advancement scheme, i.e., the increment and pay fixations will be postponed for"," ",o," ","days. No pay and allowances will be paid for the above said period."]}),t.type_of_leave==="Commutation"&&e.jsxs(e.Fragment,{children:["             As per the provisions contained in the reference cited, the Gazetted Headmaster, Z.P.H.S BH Kota, is pleased to sanction Half Pay Leave for"," ",o," ","days i.e. from"," ",t.from_date," ","to "," ",t.to_date," ",", commuted to full pay on medical grounds to Sri./Smt/Kum"," ",t.name," ",",",t.designation,", Z.P.H.S BH Kota by debiting"," ",t.leave_days," ","days from His/her Half Pay Leave Account. After debiting the above Commuted Leave, the leave balance at the credit of the individual is"," ",t.leave_balance," ","days."]}),t.type_of_leave==="Mis Carriage"&&e.jsxs(e.Fragment,{children:["In accordance with G.O. read above reference 1st cited, Sri./Smt/Kum ",t.name,",",t.designation,", Z.P.H.S BH Kota, Kotananduru, is hereby sanctioned Special Medical Leave for Abortion for"," ",o," ","days from"," ",t.from_date," ","to"," ",t.to_date," ","(both days inclusive). The individual is directed to join after the expiry of Special Medical Leave for abortion now granted at the same school. Certified that she would have continued in the same post but for going on leave now granted."]}),t.type_of_leave==="Histerictomy"&&e.jsxs(e.Fragment,{children:["In accordance with G.O. read above reference 1st cited, Sri./Smt/Kum"," ",t.name," ",",",t.designation,", Z.P.H.S BH Kota, Kotananduru, is hereby sanctioned Special Medical Leave for Hysterectomy operation for"," ",o," ","days from"," ",t.from_date," ","to"," ",t.to_date," ","(both days inclusive)",". The individual is directed to join after the expiry of Special Medical Leave for Hysterectomy operation now granted at the same school. Certified that she would have continued in the same post but for going on leave now granted."]}),!["Meternity","Peternity","EOL","Commutation","Mis Carriage","Histerictomy"].includes(t.type_of_leave)&&e.jsxs(e.Fragment,{children:["As per the provisions contained in the reference cited, the Headmaster, Z.P.H.S BH Kota, Kotananduru Mandal, is pleased to sanction"," ",t.type_of_leave," ","for"," ",o," ","days, i.e., from"," ",t.from_date," ","to"," ",t.to_date," ","of"," ",t.name,","," "," ",t.designation,", Z.P.H.S BH Kota, by debiting ",t.leave_days," days from the individual's"," ",t.type_of_leave," ","Leave Account. After debiting, the ",t.type_of_leave," leave balance of the individual is shown below."]})]}),e.jsx(s,{style:[A.additional,A.underline],children:"Annexure"}),e.jsxs(r,{style:A.table,children:[e.jsxs(r,{style:A.tableRow,children:[e.jsx(s,{style:A.tableCellHeader,children:"Name"}),e.jsx(s,{style:A.tableCellHeader,children:"Designation"}),e.jsx(s,{style:A.tableCellHeader,children:"From Date"}),e.jsx(s,{style:A.tableCellHeader,children:"To Date"}),e.jsx(s,{style:A.tableCellHeader,children:"Leave Type"}),e.jsx(s,{style:A.tableCellHeader,children:"Leave Available"}),e.jsx(s,{style:A.tableCellHeader,children:"Leave Availed"}),e.jsx(s,{style:[A.tableCellHeader,A.lastTableCell],children:"Leave Balance"})]}),e.jsxs(r,{style:A.tableRow,children:[e.jsx(s,{style:A.tableCell,children:t.name}),e.jsx(s,{style:A.tableCell,children:t.designation}),e.jsx(s,{style:A.tableCell,children:t.from_date}),e.jsx(s,{style:A.tableCell,children:t.to_date}),e.jsx(s,{style:A.tableCell,children:t.type_of_leave}),e.jsx(s,{style:A.tableCell,children:t.leave_available}),e.jsx(s,{style:A.tableCell,children:t.leave_days}),e.jsx(s,{style:[A.tableCell,A.lastTableCell],children:t.leave_balance})]})]}),e.jsxs(s,{style:A.additional,children:["             ",t.add_text,`
`,"              Necessary entries are made in the Service Registers of the Individuals. If any excess paid in this regard that amount will be recovered from the individual lump sum without any notice."]}),e.jsx(s,{style:A.signature,children:"Signature of the HM"}),e.jsx(s,{style:A.copy,children:"Copy to:"}),e.jsx(s,{style:A.copy,children:"1. Individual"}),e.jsx(s,{style:A.copy,children:"2. Stock file."}),e.jsx(s,{style:A.copy,children:"3. The STO."})]})})},{Title:Et}=he,{Option:U}=C,Mt=()=>{const[t]=a.useForm(),[o,g]=x.useState(""),[N,f]=x.useState(!1),y=async u=>{f(!0);const b={...u,from_date:u.from_date?B(u.from_date).format("DD-MM-YYYY"):"",to_date:u.to_date?B(u.to_date).format("DD-MM-YYYY"):"",date:u.date?B(u.date).format("DD-MM-YYYY"):"",leave_balance:parseFloat(u.leave_available)-parseFloat(u.leave_days)};console.log("Submitting leave data:",b);try{await J.post("https://hsbackendpkm.vercel.app/leave",b),me.success("Leave data submitted successfully!");const m=await _e(e.jsx(Tt,{data:b})).toBlob(),c=URL.createObjectURL(m),h=document.createElement("a");h.href=c,h.setAttribute("download","leave_form.pdf"),document.body.appendChild(h),h.click(),h.remove(),URL.revokeObjectURL(c),t.resetFields(),g("")}catch(m){me.error("Error submitting Leave data"),console.error("Error:",m)}finally{f(!1)}},w=()=>{const u=parseFloat(t.getFieldValue("leave_available"))||0,b=parseFloat(t.getFieldValue("leave_days"))||0;if(!isNaN(u)&&!isNaN(b)){const m=u-b;g(m),t.setFieldsValue({leave_balance:m})}};return e.jsx("div",{className:"p-6 bg-base-200 min-h-screen",children:e.jsxs("div",{className:"max-w-4xl mx-auto bg-base-100 p-6 rounded-box shadow",children:[e.jsx(Et,{level:2,className:"form-header",children:"Leave Form"}),e.jsxs(a,{form:t,layout:"vertical",onFinish:y,children:[e.jsx(V,{title:"Leave Details",bordered:!0,className:"form-card",children:e.jsx("div",{className:"bg-base-200 p-4 rounded-md",children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[e.jsx(a.Item,{label:"Proceeding No",name:"proceeding_no",rules:[{required:!0,message:"Please enter the proceeding number!"}],children:e.jsx(i,{placeholder:"Enter Proceeding No"})}),e.jsx(a.Item,{label:"Proceedings Date",name:"date",rules:[{required:!0,message:"Please select the proceedings date!"}],children:e.jsx(K,{format:"DD-MM-YYYY",placeholder:"Select Date",style:{width:"100%"}})}),e.jsx(a.Item,{label:"DDO Name, Qualifications",name:"ddo_name",rules:[{required:!0,message:"Please enter the DDO name!"}],children:e.jsx(i,{placeholder:"Enter Name"})}),e.jsx(a.Item,{label:"Name",name:"name",rules:[{required:!0,message:"Please enter the name!"}],children:e.jsx(i,{placeholder:"Enter Name"})}),e.jsx(a.Item,{label:"Designation",name:"designation",rules:[{required:!0,message:"Please enter the designation!"}],children:e.jsxs(C,{placeholder:"Select Designation",children:[e.jsx(U,{value:"SA (Tel)",children:"SA (Tel)"}),e.jsx(U,{value:"SA (Eng)",children:"SA (Eng)"}),e.jsx(U,{value:"SA (Hin)",children:"SA (Hin)"}),e.jsx(U,{value:"SA (Maths)",children:"SA (Maths)"}),e.jsx(U,{value:"SA (PS)",children:"SA (PS)"}),e.jsx(U,{value:"SA (BS)",children:"SA (BS)"}),e.jsx(U,{value:"SA (SS)",children:"SA (SS)"}),e.jsx(U,{value:"SA (PE)",children:"SA (PE)"}),e.jsx(U,{value:"SGT",children:"SGT"}),e.jsx(U,{value:"LPT",children:"LPT"}),e.jsx(U,{value:"LPH",children:"LPH"}),e.jsx(U,{value:"PET",children:"PET"}),e.jsx(U,{value:"MTS",children:"MTS"}),e.jsx(U,{value:"Non Teaching ___________",children:"Non Teaching"})]})}),e.jsx(a.Item,{label:"From Date",name:"from_date",rules:[{required:!0,message:"Please select the from date!"}],children:e.jsx(K,{format:"DD-MM-YYYY",placeholder:"Select From Date",style:{width:"100%"}})}),e.jsx(a.Item,{label:"To Date",name:"to_date",rules:[{required:!0,message:"Please select the to date!"}],children:e.jsx(K,{format:"DD-MM-YYYY",placeholder:"Select To Date",style:{width:"100%"}})}),e.jsx(a.Item,{label:"Type of Leave",name:"type_of_leave",rules:[{required:!0,message:"Please select the type of leave!"}],children:e.jsxs(C,{placeholder:"Select Type of Leave",children:[e.jsx(U,{value:"Medical",children:"Medical"}),e.jsx(U,{value:"Commutation",children:"Commutation"}),e.jsx(U,{value:"Half Pay",children:"Half Pay"}),e.jsx(U,{value:"Earned",children:"Earned"}),e.jsx(U,{value:"Meternity",children:"Meternity"}),e.jsx(U,{value:"Peternity",children:"Peternity"}),e.jsx(U,{value:"Mis Carriage",children:"Mis Carriage"}),e.jsx(U,{value:"Histerictomy",children:"Histerictomy"}),e.jsx(U,{value:"EOL",children:"EOL"})]})}),e.jsx(a.Item,{label:"Leave Available",name:"leave_available",rules:[{required:!0,message:"Please enter the leave available!"}],children:e.jsx(i,{placeholder:"Enter Leave Available",type:"number",min:0,onChange:w})}),e.jsx(a.Item,{label:"Leave Days",name:"leave_days",rules:[{required:!0,message:"Please enter the leave days!"}],children:e.jsx(i,{placeholder:"Enter Leave Days",type:"number",min:0,onChange:w})}),e.jsx(a.Item,{label:"Leave Balance",name:"leave_balance",children:e.jsx(i,{placeholder:"Auto-calculated Leave Balance",value:o,disabled:!0})}),e.jsx(a.Item,{label:"Reason",name:"reason",rules:[{required:!0,message:"Please enter the Reason!"}],children:e.jsx(i,{placeholder:"Enter Name"})})]})})}),e.jsx(V,{title:"Remarks",bordered:!0,className:"form-card",children:e.jsx("div",{className:"bg-base-200 p-4 rounded-md",children:e.jsx(a.Item,{label:"Add any specific notes (if applicable):",name:"add_text",rules:[{required:!1,message:"Please enter the Reason!"}],children:e.jsx(i,{placeholder:"Enter Additional notes (optional):"})})})}),e.jsx(a.Item,{children:e.jsx("div",{className:"flex justify-center mt-6",children:e.jsx("button",{type:"submit",disabled:N,className:`btn btn-primary btn-soft ${N?"btn-disabled":""}`,children:N?e.jsxs(e.Fragment,{children:[e.jsx("span",{className:"loading loading-spinner loading-sm mr-2"}),"Submitting..."]}):"Submit"})})})]})]})})},Yt={apiKey:"AIzaSyDxti0S6kIxO60zzTV1p_oGkBRznEqvfAs",authDomain:"my-images-hosting.firebaseapp.com",projectId:"my-images-hosting",storageBucket:"my-images-hosting.appspot.com",messagingSenderId:"355916865120",appId:"1:355916865120:web:9b3d7d08d347105fc1ed05"},Lt=Je(Yt),Rt=Ze(Lt),kt=()=>{const[t,o]=x.useState(""),[g,N]=x.useState(""),[f,y]=x.useState(""),[w,u]=x.useState(""),[b,m]=x.useState(""),[c,h]=x.useState(""),[j,n]=x.useState(""),[l,p]=x.useState(null),[v,k]=x.useState(""),[W,H]=x.useState([]),[R,ee]=x.useState(null),[Z,G]=x.useState(""),[ue,L]=x.useState([]);x.useEffect(()=>{(async()=>{try{const _=await J.get("https://hsbackendpkm.vercel.app/staff");H(_.data)}catch(_){console.error("Error fetching data:",_),F("error","Error fetching data")}})()},[]);const F=(S,_)=>{const q=Pe();L(X=>[...X,{id:q,type:S,message:_}]),setTimeout(()=>{L(X=>X.filter(Se=>Se.id!==q))},4e3)},se=S=>{const _=S.type.startsWith("image/"),q=S.size/1024<100;return _||F("error","You can only upload image files!"),q||F("error","Image must be smaller than 100KB!"),_&&q},pe=async()=>{if(!l){G("Please select a file to upload.");return}const S=Qe(Rt,`images/${Pe()}-${l.name}`);try{await et(S,l);const _=await tt(S);k(_),G(""),F("success","Image uploaded successfully!")}catch(_){console.error("Error uploading image:",_),G("Error uploading image."),F("error","Error uploading image.")}},re=async S=>{if(S.preventDefault(),!v){F("error","Please upload an image first.");return}const _={name:t,designation:g,email:f,phoneNo:w,qualifications:b,subject:c,achievements:j,imageUrl:v};try{R!==null?(await J.put(`https://hsbackendpkm.vercel.app/staff/${R}`,_),F("success","Data updated successfully")):(await J.post("https://hsbackendpkm.vercel.app/submit",_),F("success","Form submitted successfully")),o(""),N(""),y(""),u(""),m(""),h(""),n(""),p(null),k(""),ee(null);const q=await J.get("https://hsbackendpkm.vercel.app/staff");H(q.data)}catch(q){console.error("Error submitting form:",q),F("error","Error submitting form.")}},ge=S=>{ee(S.id),o(S.name),N(S.designation),y(S.email),u(S.phoneNo),m(S.qualifications),h(S.subject),n(S.achievements),k(S.imageUrl)},ne=async S=>{try{await J.delete(`https://hsbackendpkm.vercel.app/staff/${S}`),F("success","Data deleted successfully");const _=await J.get("https://hsbackendpkm.vercel.app/staff");H(_.data)}catch(_){console.error("Error deleting data:",_),F("error","Error deleting data.")}};return e.jsxs("div",{className:"max-w-7xl mx-auto p-6",children:[e.jsx("div",{className:"toast toast-top toast-end z-50",children:ue.map(S=>e.jsx("div",{className:`alert ${S.type==="success"?"alert-success":"alert-error"} shadow-lg`,children:e.jsx("span",{children:S.message})},S.id))}),e.jsx("div",{className:"text-center mb-6",children:e.jsx("div",{className:"badge badge-xl badge-info mt-1 text-lg font-bold px-6 py-3",children:"Staff Profiles"})}),e.jsxs("form",{onSubmit:re,className:"flex flex-col gap-6",children:[e.jsxs("div",{className:"card bg-base-200 shadow-lg p-6",children:[e.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Staff Info"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[e.jsx("input",{type:"text",placeholder:"Name",className:"input input-bordered w-full",value:t,onChange:S=>o(S.target.value),required:!0}),e.jsx("input",{type:"text",placeholder:"Designation",className:"input input-bordered w-full",value:g,onChange:S=>N(S.target.value),required:!0}),e.jsx("input",{type:"email",placeholder:"Email",className:"input input-bordered w-full",value:f,onChange:S=>y(S.target.value),required:!0}),e.jsx("input",{type:"text",placeholder:"Phone No",className:"input input-bordered w-full",value:w,onChange:S=>u(S.target.value),required:!0}),e.jsx("input",{type:"text",placeholder:"Qualifications",className:"input input-bordered w-full",value:b,onChange:S=>m(S.target.value),required:!0}),e.jsx("input",{type:"text",placeholder:"Subject",className:"input input-bordered w-full",value:c,onChange:S=>h(S.target.value),required:!0}),e.jsx("input",{type:"text",placeholder:"Achievements",className:"input input-bordered w-full col-span-full",value:j,onChange:S=>n(S.target.value)})]})]}),e.jsx("div",{className:"flex justify-center mt-10",children:e.jsxs("div",{className:"card bg-base-200 shadow-lg p-6 w-full max-w-md",children:[e.jsx("h3",{className:"text-lg font-semibold mb-4 text-center",children:"Image Upload"}),e.jsxs("div",{className:"flex flex-col sm:flex-row items-center justify-center gap-4",children:[e.jsxs("label",{className:"btn btn-outline cursor-pointer",children:[e.jsx(Xe,{}),e.jsx("input",{type:"file",className:"hidden",accept:"image/*",onChange:S=>{var q;const _=(q=S.target.files)==null?void 0:q[0];_&&se(_)&&p(_)}}),"Select Image"]}),e.jsx("button",{type:"button",className:"btn btn-accent",onClick:pe,children:"Upload Image"})]}),v&&e.jsxs("div",{className:"mt-4 text-center",children:[e.jsx("p",{className:"font-medium",children:"Image Preview:"}),e.jsx("img",{src:v,alt:"Preview",className:"w-32 h-40 object-cover border-2 border-neutral rounded mx-auto mt-2"})]})]})}),Z&&e.jsx("p",{className:"text-error text-sm text-center",children:Z}),e.jsx("div",{className:"text-center",children:e.jsx("button",{type:"submit",className:"btn btn-outline  btn-primary",children:R!==null?"Update Form":"Submit Form"})})]}),e.jsx("div",{className:"mt-10 grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:W.map(S=>e.jsx("div",{className:"card w-full bg-base-100 shadow-sm",children:e.jsxs("div",{className:"card-body",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("div",{className:"avatar avatar-online",children:e.jsx("div",{className:"w-24 rounded-full",children:e.jsx("img",{src:S.imageUrl,alt:S.name})})}),e.jsxs("div",{className:"text-right",children:[e.jsx("h2",{className:"text-xl font-bold",children:S.name}),e.jsx("p",{className:"text-sm text-gray-500",children:S.designation})]})]}),e.jsxs("ul",{className:"mt-4 flex flex-col gap-1 text-sm",children:[e.jsxs("li",{children:[e.jsx("strong",{children:"Email:"})," ",S.email]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Phone:"})," ",S.phoneNo]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Qualifications:"})," ",S.qualifications]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Subject:"})," ",S.subject]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Achievements:"})," ",S.achievements]})]}),e.jsxs("div",{className:"mt-4 flex justify-between items-center",children:[e.jsx("button",{className:"btn btn-outline btn-sm btn-primary",onClick:()=>ge(S),children:"Update"}),e.jsx("button",{className:"btn btn-outline btn-sm btn-error",onClick:()=>ne(S.id),children:"Delete"})]})]})},S.id))})]})},Bt=()=>{const{id:t}=we(),o=xe(),[g,N]=x.useState(null),[f,y]=x.useState(!0),[w,u]=x.useState([]),[b,m]=x.useState("portrait"),[c,h]=x.useState("a4"),j=[{label:"Date of Joining",key:"doj"},{label:"Gender",key:"gender"},{label:"Date of Birth",key:"dob"},{label:"Caste",key:"category"}],[n,l]=x.useState([]);x.useEffect(()=>{J.get(`https://hsbackendpkm.vercel.app/class/${t}`).then(v=>{N(v.data),y(!1)}).catch(v=>{console.error(v),y(!1)})},[t]);const p=()=>{const v=j.filter(k=>n.includes(k.key)).map(k=>k.label);o("/preview",{state:{classDetails:g,className:g.class_name||`Class ${t}`,columnHeaders:v,selectedFieldKeys:n,orientation:b,paperSize:c}})};return f?e.jsx("div",{className:"flex justify-center items-center h-64",children:e.jsx("span",{className:"loading loading-spinner loading-lg text-warning"})}):!g||!g.students||g.students.length===0?e.jsx("div",{className:"text-center mt-10 text-red-500 font-semibold",children:"No students found for this class."}):e.jsx("div",{className:"w-full px-5 md:px-10 py-8",children:e.jsxs("div",{className:"bg-white rounded-md shadow-md border border-gray-300 w-full",children:[e.jsxs("div",{className:"bg-green-200 text-center py-4 border-b border-gray-900 rounded-t-md flex justify-center items-center gap-2",children:[e.jsx(fe,{className:"text-gray-800 w-6 h-6"}),e.jsxs("h3",{className:"text-xl font-bold text-gray-800",children:["Class ",t," - Student Details"]}),e.jsx(fe,{className:"text-gray-800 w-6 h-6"})]}),e.jsx("div",{className:"text-right px-5 py-3",children:e.jsx("button",{onClick:p,className:"btn btn-info btn-sm",children:"Click me to Generate Registers"})}),e.jsx("div",{className:"overflow-x-auto p-5",children:e.jsxs("table",{className:"table-auto w-full text-sm text-center",children:[e.jsx("thead",{className:"bg-gray-100 sticky top-0 z-10 text-gray-700",children:e.jsxs("tr",{children:[e.jsx("th",{className:"border px-3 py-2",children:"Admission No"}),e.jsx("th",{className:"border px-3 py-2",children:"Surname"}),e.jsx("th",{className:"border px-3 py-2",children:"Name"}),e.jsx("th",{className:"border px-3 py-2",children:"Date of Joining"}),e.jsx("th",{className:"border px-3 py-2",children:"Gender"}),e.jsx("th",{className:"border px-3 py-2",children:"Date of Birth"}),e.jsx("th",{className:"border px-3 py-2",children:"Caste"}),e.jsx("th",{className:"border px-3 py-2",children:"Action"})]})}),e.jsx("tbody",{children:g.students.map(v=>e.jsxs("tr",{className:"hover:bg-yellow-50",children:[e.jsx("td",{className:"border px-3 py-2",children:v.adm_no}),e.jsx("td",{className:"border px-3 py-2",children:v.sur_name}),e.jsx("td",{className:"border px-3 py-2",children:v.name}),e.jsx("td",{className:"border px-3 py-2",children:v.doj}),e.jsx("td",{className:"border px-3 py-2",children:v.gender}),e.jsx("td",{className:"border px-3 py-2",children:v.dob}),e.jsx("td",{className:"border px-3 py-2",children:v.category}),e.jsx("td",{className:"border px-3 py-2",children:e.jsx("button",{onClick:()=>o(`/Student/${v.adm_no}`),className:"btn btn-sm bg-green-400 text-white hover:bg-green-500 shadow-none border-none",children:"Update"})})]},v.adm_no))})]})})]})})},{Title:Ft}=he,{Option:$}=C,qt=()=>{const{admNo:t}=we(),[o]=a.useForm(),[g,N]=x.useState(null),[f,y]=x.useState(!1),[w,u]=x.useState(!1),[b,m]=x.useState([]),c=(n,l)=>{const p=Date.now();m(v=>[...v,{id:p,type:n,message:l}]),setTimeout(()=>{m(v=>v.filter(k=>k.id!==p))},4e3)},h=async()=>{if(!t){c("error","Admission number not found!");return}u(!0);try{const n=await J.get(`https://hsbackendpkm.vercel.app/search/${t}`);N(n.data),o.setFieldsValue({...n.data,dob:n.data.dob?B(n.data.dob,"DD-MM-YYYY"):null,doj:n.data.doj?B(n.data.doj,"DD-MM-YYYY"):null,issue_date:n.data.issue_date?B(n.data.issue_date,"DD-MM-YYYY"):null,date_of_issue:n.data.date_of_issue?B(n.data.date_of_issue,"DD-MM-YYYY"):null}),c("success","Record fetched successfully!")}catch(n){c("error","Error fetching record"),console.error("Error:",n)}finally{u(!1)}},j=async n=>{y(!0);try{const l={...n,adm_no:t,dob:n.dob?B(n.dob).format("DD-MM-YYYY"):"",doj:n.doj?B(n.doj).format("DD-MM-YYYY"):"",issue_date:n.issue_date?B(n.issue_date).format("DD-MM-YYYY"):"",date_of_issue:n.date_of_issue?B(n.date_of_issue).format("DD-MM-YYYY"):""};await J.put(`https://hsbackendpkm.vercel.app/update/${t}`,l),c("success","Record updated successfully!"),o.resetFields(),N(null)}catch(l){c("error","Error updating record"),console.error("Error:",l)}finally{y(!1)}};return x.useEffect(()=>{h()},[t]),w?e.jsx("div",{style:{textAlign:"center",marginTop:"50px"},children:e.jsx(st,{size:"large"})}):e.jsxs("div",{className:"p-6 bg-base-200 min-h-screen",children:[e.jsx("div",{className:"toast toast-top toast-end z-50",children:b.map(({id:n,type:l,message:p})=>e.jsx("div",{className:`alert ${l==="success"?"alert-success":"alert-error"} shadow-lg`,children:e.jsx("span",{children:p})},n))}),e.jsxs("div",{className:"max-w-4xl mx-auto bg-base-100 p-6 rounded-box shadow",children:[e.jsx(Ft,{level:2,className:"form-header",children:"UPDATE STUDENT DETAILS"}),g&&e.jsxs(a,{form:o,layout:"vertical",onFinish:j,style:{marginTop:20},children:[e.jsx(V,{title:"Admission Details",bordered:!0,className:"form-card",children:e.jsx("div",{className:"bg-base-200 p-4 rounded-md",children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsx(a.Item,{label:"Date of Joining",name:"doj",rules:[{required:!0,message:"Please select Date of Joining!"}],children:e.jsx(K,{placeholder:"Select date of joining",format:"DD-MM-YYYY"})}),e.jsx(a.Item,{label:"Joining Class",name:"join_class",rules:[{required:!0,message:"Please select a Class!"}],children:e.jsx(C,{placeholder:"Select Class",children:Array.from({length:10},(n,l)=>e.jsx($,{value:l+1,children:l+1},l+1))})})]})})}),e.jsx(V,{title:"Student Details",bordered:!0,className:"form-card",children:e.jsx("div",{className:"bg-base-200 p-4 rounded-md",children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[e.jsx(a.Item,{label:"PEN Number",name:"pen_no",rules:[{required:!0,message:"Please input PEN number!"},{pattern:/^\d{11,12}$/,message:"PEN number must be 11 to 12 digits long and only contain numbers!"}],children:e.jsx(i,{type:"text",placeholder:"Enter PEN number",minLength:11,maxLength:12,onInput:n=>{n.target.value=n.target.value.replace(/[^0-9]/g,"")}})}),e.jsx(a.Item,{label:"Surname",name:"sur_name",rules:[{required:!0,message:"Please input surname!"}],children:e.jsx(i,{placeholder:"Enter surname"})}),e.jsx(a.Item,{label:"Name",name:"name",rules:[{required:!0,message:"Please input name!"}],children:e.jsx(i,{placeholder:"Enter name"})}),e.jsx(a.Item,{label:"Date of Birth",name:"dob",rules:[{required:!0,message:"Please select your date of birth!"}],children:e.jsx(K,{placeholder:"Select date of birth",format:"DD-MM-YYYY"})}),e.jsx(a.Item,{label:"Gender",name:"gender",rules:[{required:!0,message:"Please select gender!"}],children:e.jsxs(C,{placeholder:"Select gender",children:[e.jsx($,{value:"Boy",children:"Boy"}),e.jsx($,{value:"Girl",children:"Girl"}),e.jsx($,{value:"Other",children:"Other"})]})}),e.jsx(a.Item,{label:"Mother Tongue",name:"mother_lang",rules:[{required:!0,message:"Please input mother tongue!"}],children:e.jsx(i,{placeholder:"Enter mother tongue"})}),e.jsx(a.Item,{label:"Student Aadhaar",name:"st_adhar",rules:[{required:!0,message:"Please input student Aadhaar!"},{pattern:/^\d{12}$/,message:"Student Aadhaar must be exactly 12 digits!"}],children:e.jsx(i,{type:"text",placeholder:"Enter student Aadhaar number",maxLength:12,onInput:n=>{n.target.value=n.target.value.replace(/[^0-9]/g,"")}})}),e.jsx(a.Item,{label:"Caste",name:"caste",rules:[{required:!0,message:"Please input caste!"}],children:e.jsx(i,{placeholder:"Enter caste"})}),e.jsx(a.Item,{label:"Category",name:"catogory",rules:[{required:!0,message:"Please select category!"}],children:e.jsxs(C,{placeholder:"Select category",children:[e.jsx($,{value:"SC",children:"SC"}),e.jsx($,{value:"ST",children:"ST"}),e.jsx($,{value:"BC",children:"BC"}),e.jsx($,{value:"OC",children:"OC"})]})}),e.jsx(a.Item,{label:"Nationality & Religion",name:"nation_religion",rules:[{required:!0,message:"Please input nationality and religion!"}],children:e.jsx(i,{placeholder:"Enter nationality & religion"})}),e.jsx(a.Item,{label:"Height (cm)",name:"hieght",rules:[{required:!0,message:"Please input height!"}],children:e.jsx(i,{placeholder:"Enter height in cm"})}),e.jsx(a.Item,{label:"Shoe Size (cm)",name:"shoe_size_cm",rules:[{required:!0,message:"Please input shoe size!"}],children:e.jsx(i,{placeholder:"Enter shoe size in cm"})}),e.jsx(a.Item,{label:"Moles",name:"moles",rules:[{required:!0,message:"Please input any moles!"}],children:e.jsx(i,{placeholder:"Enter distinguishing moles"})}),e.jsx(a.Item,{label:"Father's Name",name:"father_name",rules:[{required:!0,message:"Please input father's name!"}],children:e.jsx(i,{placeholder:"Enter father's name"})}),e.jsx(a.Item,{label:"Father's Aadhaar",name:"f_adhar",rules:[{required:!0,message:"Please input father's Aadhaar!"},{pattern:/^\d{12}$/,message:"Aadhaar number must be exactly 12 digits long!"}],children:e.jsx(i,{type:"text",placeholder:"Enter Father Aadhaar number",maxLength:12,onInput:n=>{n.target.value=n.target.value.replace(/[^0-9]/g,"")}})}),e.jsx(a.Item,{label:"Mother's Name",name:"mother_name",rules:[{required:!0,message:"Please input mother's name!"}],children:e.jsx(i,{placeholder:"Enter mother's name"})}),e.jsx(a.Item,{label:"Mother's Aadhaar",name:"m_adhar",rules:[{required:!0,message:"Please input mother's Aadhaar!"},{pattern:/^\d{12}$/,message:"Aadhaar number must be exactly 12 digits!"}],children:e.jsx(i,{type:"text",placeholder:"Enter Mother Aadhaar number",maxLength:12,onInput:n=>{n.target.value=n.target.value.replace(/[^0-9]/g,"")}})}),e.jsx(a.Item,{label:"Occupation",name:"ocupation",rules:[{required:!0,message:"Please input occupation!"}],children:e.jsx(i,{placeholder:"Enter occupation"})})]})})}),e.jsx(V,{title:"Address Details",bordered:!0,className:"form-card",children:e.jsx("div",{className:"bg-base-200 p-4 rounded-md",children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[e.jsx(a.Item,{label:"Bank Account Number",name:"bannk_ac_no",rules:[{required:!0,message:"Please input bank account number!"},{pattern:/^\d{11,16}$/,message:"Bank account number must be between 11 and 16 digits!"}],children:e.jsx(i,{type:"text",placeholder:"Enter student Aadhaar number",maxLength:16,onInput:n=>{n.target.value=n.target.value.replace(/[^0-9]/g,"")}})}),e.jsx(a.Item,{label:"IFSC Code",name:"ifsc_code",rules:[{required:!0,message:"Please input IFSC code!"},{pattern:/^[A-Z]{4}0[A-Z0-9]{6}$/,message:"IFSC code must be in the format: XXXX0YYYYYY (X=letters, Y=numbers)"}],children:e.jsx(i,{placeholder:"Enter IFSC code",maxLength:11})}),e.jsx(a.Item,{label:"Bank Name",name:"bannk_name",rules:[{required:!0,message:"Please input bank name!"}],children:e.jsx(i,{placeholder:"Enter bank name"})}),e.jsx(a.Item,{label:"Address",name:"address",rules:[{required:!0,message:"Please input address!"}],children:e.jsx(i,{placeholder:"Enter address"})}),e.jsx(a.Item,{label:"Ration Card Number",name:"ration_card_no",rules:[{required:!0,message:"Please input ration card number!"}],children:e.jsx(i,{placeholder:"Enter ration card number"})}),e.jsx(a.Item,{label:"Mobile Number",name:"mobile_no",rules:[{required:!0,message:"Please input mobile number!"},{pattern:/^(?:[6789]\d{9})$/,message:"Mobile number must be a 10-digit number starting with 6, 7, 8, or 9!"}],children:e.jsx(i,{placeholder:"Enter mobile number",maxLength:10,onInput:n=>{n.target.value=n.target.value.replace(/[^0-9]/g,"")}})}),e.jsx(a.Item,{label:"Guardian",name:"guardian",rules:[{required:!0,message:"Please input guardian name!"}],children:e.jsx(i,{placeholder:"Enter guardian name"})}),e.jsx(a.Item,{label:"TV Type",name:"tv_type",rules:[{required:!0,message:"Please select TV type!"}],children:e.jsxs(C,{placeholder:"Select TV type",children:[e.jsx(C.Option,{value:"Analog",children:"Analog"}),e.jsx(C.Option,{value:"Smart",children:"Smart"}),e.jsx(C.Option,{value:"Advanced",children:"Advanced"}),e.jsx(C.Option,{value:"No TV",children:"No TV"})]})}),e.jsx(a.Item,{label:"TV Connection",name:"tv_connection",rules:[{required:!0,message:"Please select TV connection!"}],children:e.jsxs(C,{placeholder:"Select TV connection",children:[e.jsx($,{value:"Cable",children:"Cable"}),e.jsx($,{value:"DTH",children:"DTH"}),e.jsx($,{value:"Not Applicable",children:"Not Applicable"})]})}),e.jsx(a.Item,{label:"DTH Provider",name:"dth_name",rules:[{required:!0,message:"Please select DTH provider!"}],children:e.jsxs(C,{placeholder:"Select DTH provider",children:[e.jsx($,{value:"Tata Sky",children:"Tata Sky"}),e.jsx($,{value:"Bharat Business",children:"Bharat Business"}),e.jsx($,{value:"Dish TV",children:"Dish TV"}),e.jsx($,{value:"SUN Direct",children:"SUN Direct"}),e.jsx($,{value:"Airtel",children:"Airtel"}),e.jsx($,{value:"M/s Reliance BIG TV",children:"M/s Reliance BIG TV"}),e.jsx($,{value:"Others",children:"Others"}),e.jsx($,{value:"Not Applicable",children:"Not Applicable"})]})}),e.jsx(a.Item,{label:"Mobile Type",name:"mobile_type",rules:[{required:!0,message:"Please select mobile type!"}],children:e.jsxs(C,{placeholder:"Select mobile type",children:[e.jsx($,{value:"Basic",children:"Basic"}),e.jsx($,{value:"Smart",children:"Smart"}),e.jsx($,{value:"No Mobile",children:"No Mobile"})]})}),e.jsx(a.Item,{label:"Computer Available?",name:"computer",rules:[{required:!0,message:"Please input computer type!"}],children:e.jsxs(C,{placeholder:"Enter computer availability",children:[e.jsx($,{value:"Basic",children:"Yes"}),e.jsx($,{value:"Smart",children:"No"})]})}),e.jsx(a.Item,{label:"Internet Availability",name:"internet",rules:[{required:!0,message:"Please input internet availability!"}],children:e.jsxs(C,{placeholder:"Enter internet availability",children:[e.jsx($,{value:"Basic",children:"Yes"}),e.jsx($,{value:"Smart",children:"No"})]})})]})})}),e.jsx(V,{title:"Student Status Details",bordered:!0,className:"form-card",children:e.jsx("div",{className:"bg-base-200 p-4 rounded-md",children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[e.jsx(a.Item,{label:"TC Number Issued",name:"tc_no_issue",rules:[{required:!1,message:"Please input TC number issued!"}],children:e.jsx(i,{placeholder:"Enter TC number issued"})}),e.jsx(a.Item,{label:"Date of Issue",name:"date_of_issue",rules:[{required:!1,message:"Please select date of issue!"}],children:e.jsx(K,{placeholder:"Select date of issue",format:"DD-MM-YYYY"})}),e.jsx(a.Item,{label:"Completed Class",name:"complted_class",rules:[{required:!1,message:"Please input completed class!"}],children:e.jsx(i,{placeholder:"Enter completed class"})}),e.jsx(a.Item,{label:"Leaving Class",name:"leaving_class",rules:[{required:!1,message:"Please input leaving class!"}],children:e.jsx(i,{placeholder:"Enter leaving class"})})]})})}),e.jsx(a.Item,{children:e.jsx("div",{className:"flex justify-center mt-6",children:e.jsx("button",{type:"submit",disabled:f,className:`btn btn-info btn-soft w-[100px] border border-green-400 ${f?"btn-disabled":""}`,children:f?"Updating...":"Update"})})})]})]})]})},Ot=({id:t,class_name:o})=>{const g=xe(),N=()=>{g(`/class/${o}`)};return e.jsx("div",{className:"stats shadow bg-lemon text-primary-content cursor-pointer hover:scale-105 transition-transform duration-200",onClick:N,children:e.jsxs("div",{className:"stat",children:[e.jsx("div",{className:"stat-title font-extrabold text-2xl text-primary",children:"Class"}),e.jsx("div",{className:"stat-value text-4xl text-black-200",children:o}),e.jsx("div",{className:"stat-desc text-lg  text-gray-900",children:"Click to view details"})]})},t)},Ht=()=>{const[t,o]=x.useState([]),[g,N]=x.useState(!0),[f,y]=x.useState(null);return x.useEffect(()=>{J.get("https://hsbackendpkm.vercel.app/classes").then(w=>{o(w.data.classes),N(!1)}).catch(w=>{y(w.message),N(!1)})},[]),g?e.jsx("div",{className:"text-center mt-10",children:"Loading..."}):f?e.jsxs("div",{className:"text-center mt-10 text-red-500",children:["Error: ",f]}):e.jsxs("div",{className:"text-center p-6",children:[e.jsx("h1",{className:"text-3xl font-bold mb-6 text-red-900",children:"Find Your Class here"}),e.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 gap-6 justify-items-center",children:t.map(({id:w,class_name:u})=>e.jsx(Ot,{id:w,class_name:u},w))})]})},zt=(t=[],o=[],g="portrait",N="a4",f={})=>{const{className:y="",registerName:w="",fileName:u="student_details.pdf",includeDateOfJoining:b=!1,includeGender:m=!1,includeDOB:c=!1,includeCaste:h=!1}=f,j=new Te(g,"mm",N);if(!Array.isArray(o)||o.length===0){j.setFontSize(12),j.text("No student data available.",20,20),j.save(u);return}const n=y?`${y} - Student Details`:"Student Details";j.setFontSize(16),j.text(n,j.internal.pageSize.getWidth()/2,15,{align:"center"}),w&&(j.setFontSize(12),j.text(`Register Name: ${w}`,j.internal.pageSize.getWidth()/2,23,{align:"center"}));const l=["Admission No","Name"];b&&l.push("Date of Joining"),m&&l.push("Gender"),c&&l.push("Date of Birth"),h&&l.push("Caste"),l.push(...t.map((H,R)=>H||`${R+1}`));const p=o.map(H=>{const R=[H.adm_no,`${H.sur_name} ${H.name}`];return b&&R.push(H.doj||""),m&&R.push(H.gender||""),c&&R.push(H.dob||""),h&&R.push(H.category||""),R.push(...new Array(t.length).fill("")),R}),v={0:{cellWidth:18},1:{cellWidth:60}};let k=2;b&&(v[k++]={cellWidth:28}),m&&(v[k++]={cellWidth:16}),c&&(v[k++]={cellWidth:28}),h&&(v[k++]={cellWidth:20});for(let H=0;H<t.length;H++)v[k++]={};Ee(j,{head:[l],body:p,startY:w?30:y?27:25,theme:"grid",margin:{top:10,left:10,right:10,bottom:10},styles:{fontSize:8,cellPadding:3,halign:"center",valign:"middle"},headStyles:{fillColor:[220,220,220],textColor:0,fontSize:9,halign:"center"},columnStyles:v,didParseCell:H=>{H.column.index===1&&H.cell.raw&&(H.cell.styles.cellWidth=60)}}),j.save(u)},$t=()=>{const t=xe(),o=Me(),{classDetails:g,className:N="",columnHeaders:f=["Extra 1","Extra 2"],orientation:y="portrait",paperSize:w="a4"}=o.state||{},[u,b]=x.useState(f),[m,c]=x.useState(f.map(()=>"")),[h,j]=x.useState(y),[n,l]=x.useState(w),[p,v]=x.useState(""),[k,W]=x.useState(""),[H,R]=x.useState(""),[ee,Z]=x.useState(!1),[G,ue]=x.useState(!1),[L,F]=x.useState(!1),[se,pe]=x.useState(!1),re=()=>{b([...u,`Extra ${u.length+1}`]),c([...m,""])},ge=_=>{const q=[...u],X=[...m];q.splice(_,1),X.splice(_,1),b(q),c(X)},ne=(_,q)=>{const X=[...m];X[_]=q,c(X)},S=()=>{try{zt(m,g.students,h,n,{className:N,registerName:p,includeDateOfJoining:ee,includeGender:G,includeDOB:L,includeCaste:se}),W("✅ PDF generated successfully!"),R("alert-success")}catch(_){console.error("PDF generation failed:",_),W("❌ PDF generation failed. Check console for details."),R("alert-error")}setTimeout(()=>{W(""),R("")},3e3)};return e.jsxs("div",{className:"p-6 max-w-6xl mx-auto",children:[e.jsx("h2",{className:"text-2xl font-bold text-center mb-1",children:N?`${N} - Student Details`:"Student Details"}),e.jsxs("div",{className:"text-center mb-2",children:[e.jsx("label",{className:"text-sm font-semibold mr-2",children:"Register Name:"}),e.jsx("input",{type:"text",className:"input input-bordered input-sm w-64",placeholder:"e.g. Attendance Register",value:p,onChange:_=>v(_.target.value)})]}),e.jsxs("p",{className:"text-center text-sm text-gray-600 mb-4",children:["Orientation: ",e.jsx("strong",{children:h})," | Paper Size: ",e.jsx("strong",{children:n})]}),e.jsxs("div",{className:"mb-4 text-center",children:[e.jsx("button",{onClick:re,className:"btn btn-primary btn-outline btn-sm mr-2",children:"Add Extra Column"}),u.length>0&&e.jsx("button",{onClick:()=>ge(u.length-1),className:"btn btn-error btn-outline btn-sm text-red-600 border-red-600",children:"Remove Last Column"})]}),e.jsx("div",{className:"mb-4 grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-5 gap-2 text-center",children:u.map((_,q)=>e.jsxs("div",{className:"flex items-center gap-2 justify-center",children:[e.jsxs("label",{className:"text-sm",children:["Col ",q+1,":"]}),e.jsx("input",{type:"text",className:"input input-bordered input-sm w-full max-w-xs",value:m[q],onChange:X=>ne(q,X.target.value),placeholder:`Header for ${u[q]}`})]},q))}),e.jsxs("div",{className:"mb-4 flex flex-wrap justify-center gap-8",children:[e.jsxs("div",{className:"flex flex-col sm:flex-row items-center gap-2",children:[e.jsx("label",{className:"whitespace-nowrap font-medium",children:"Orientation:"}),e.jsxs("select",{className:"select select-bordered select-sm",value:h,onChange:_=>j(_.target.value),children:[e.jsx("option",{value:"portrait",children:"Portrait"}),e.jsx("option",{value:"landscape",children:"Landscape"})]})]}),e.jsxs("div",{className:"flex flex-col sm:flex-row items-center gap-2",children:[e.jsx("label",{className:"whitespace-nowrap font-medium",children:"Paper Size:"}),e.jsxs("select",{className:"select select-bordered select-sm",value:n,onChange:_=>l(_.target.value),children:[e.jsx("option",{value:"a4",children:"A4"}),e.jsx("option",{value:"legal",children:"Legal"})]})]})]}),e.jsxs("div",{className:"mb-4 flex flex-wrap justify-center gap-8",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("input",{type:"checkbox",id:"dateOfJoining",checked:ee,onChange:_=>Z(_.target.checked)}),e.jsx("label",{htmlFor:"dateOfJoining",className:"text-sm",children:"Include Date of Joining"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("input",{type:"checkbox",id:"gender",checked:G,onChange:_=>ue(_.target.checked)}),e.jsx("label",{htmlFor:"gender",className:"text-sm",children:"Include Gender"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("input",{type:"checkbox",id:"dob",checked:L,onChange:_=>F(_.target.checked)}),e.jsx("label",{htmlFor:"dob",className:"text-sm",children:"Include Date of Birth"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("input",{type:"checkbox",id:"caste",checked:se,onChange:_=>pe(_.target.checked)}),e.jsx("label",{htmlFor:"caste",className:"text-sm",children:"Include Caste"})]})]}),e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"table-auto w-full border text-sm text-center",children:[e.jsx("thead",{className:"bg-gray-100",children:e.jsxs("tr",{children:[e.jsx("th",{className:"border px-2 py-1",children:"Adm No"}),e.jsx("th",{className:"border px-2 py-1",children:"Name"}),ee&&e.jsx("th",{className:"border px-2 py-1",children:"Date of Joining"}),G&&e.jsx("th",{className:"border px-2 py-1",children:"Gender"}),L&&e.jsx("th",{className:"border px-2 py-1",children:"Date of Birth"}),se&&e.jsx("th",{className:"border px-2 py-1",children:"Caste"}),m.map((_,q)=>e.jsx("th",{className:"border px-2 py-1",children:_||`${q+1}`},q))]})}),e.jsx("tbody",{children:g.students.map(_=>e.jsxs("tr",{children:[e.jsx("td",{className:"border px-2 py-1",children:_.adm_no}),e.jsxs("td",{className:"border px-2 py-1",children:[_.sur_name," ",_.name]}),ee&&e.jsx("td",{className:"border px-2 py-1",children:_.doj}),G&&e.jsx("td",{className:"border px-2 py-1",children:_.gender}),L&&e.jsx("td",{className:"border px-2 py-1",children:_.dob}),se&&e.jsx("td",{className:"border px-2 py-1",children:_.category}),u.map((q,X)=>e.jsx("td",{className:"border px-2 py-1"},X))]},_.adm_no))})]})}),e.jsxs("div",{className:"mt-4 flex justify-center gap-2",children:[e.jsx("button",{onClick:S,className:"btn btn-success btn-sm",children:"Generate PDF"}),e.jsx("button",{onClick:()=>t(-1),className:"btn btn-outline btn-sm",children:"Go Back"})]}),k&&e.jsx("div",{className:"toast toast-top toast-end z-50",children:e.jsx("div",{className:`alert ${H}`,children:e.jsx("span",{children:k})})})]})},P=oe.create({page:{padding:30},container:{padding:15,border:"3px solid black",borderRadius:10,marginBottom:15},section:{marginBottom:10,padding:10},fieldRow:{display:"flex",flexDirection:"row",justifyContent:"space-between",marginBottom:5,fontSize:14},fieldLeft:{width:"45%",textAlign:"left",fontSize:14},fieldCenter:{width:"10%",textAlign:"center",fontSize:14},fieldRight:{width:"45%",textAlign:"right",fontSize:14},value:{fontSize:12,marginBottom:10,marginTop:5},values:{fontSize:12,marginBottom:10,marginTop:20,marginRight:20},valu:{fontSize:12,marginBottom:10},legendLabel:{fontSize:18,fontWeight:"bold",padding:4,marginBottom:8,borderBottom:"1px solid black",borderTop:"1px solid black",textAlign:"center"},headerSection:{display:"flex",flexDirection:"row",justifyContent:"space-between",alignItems:"center",backgroundColor:"#f0f0f0",padding:10,borderRadius:10,marginBottom:0},logo:{width:50,height:50},textContainer:{flex:1,display:"flex",alignItems:"center",justifyContent:"center"},title1:{fontSize:16,fontWeight:"bold",textAlign:"center"},title2:{fontSize:14,textAlign:"center"},declaration:{marginTop:10,fontSize:14,textAlign:"justify"},underline:{textDecoration:"underline"},tableWrapper:{border:"2px solid black",marginTop:10,marginBottom:10},tableHeader:{flexDirection:"row",backgroundColor:"#eee",padding:5,borderBottom:"1px solid black",borderTop:"1px solid black"},tableRow:{flexDirection:"row",padding:5,borderTop:"0.5px solid #999",borderBottom:"0.5px solid #999"},tableHeaderCell:{fontSize:9,fontWeight:"bold",width:`${100/12}%`,textAlign:"center",borderRight:"0.5px solid #999",borderLeft:"0.5px solid #999",padding:2},tableCell:{fontSize:9,width:`${100/12}%`,textAlign:"center",borderRight:"0.5px solid #999",borderLeft:"0.5px solid #999",padding:2}}),Gt=({record:t,marks:o})=>e.jsx(de,{children:e.jsx(ce,{size:"A4",style:P.page,children:e.jsxs(r,{style:P.container,children:[e.jsxs(r,{style:P.headerSection,children:[e.jsx(ae,{style:P.logo,src:"https://i.postimg.cc/2ygF6cCy/SRK.png"}),e.jsxs(r,{style:P.textContainer,children:[e.jsx(s,{style:P.title1,children:"Z P P HIGH SCHOOL- P KOTTAM"}),e.jsx(s,{style:P.title2,children:"KORANANDURU MANDAL, KAKINADA, 533407"})]}),e.jsx(ae,{style:P.logo,src:"https://i.postimg.cc/2ygF6cCy/SRK.png"})]}),e.jsx(s,{style:P.legendLabel,children:"MARKS MEMO"}),e.jsxs(r,{style:P.fieldRow,children:[e.jsxs(s,{style:P.fieldLeft,children:["Date of Joining: ",t.doj]}),e.jsxs(s,{style:P.fieldRight,children:["Admission No: ",t.adm_no]})]}),e.jsxs(s,{style:P.declaration,children:["           This is to certify that ",t.gender==="Boy"?"Mr.":"Miss."," ",e.jsxs(s,{style:P.underline,children:[t.sur_name," ",t.name]}),", Son / Daughter of Sri ",e.jsx(s,{style:P.underline,children:t.father_name})," and Smt"," ",e.jsx(s,{style:P.underline,children:t.mother_name}),", has studied in this institution from class ",e.jsx(s,{style:P.underline,children:t.form_class})," to class"," ",e.jsx(s,{style:P.underline,children:t.to_class})," during the academic years from"," ",e.jsx(s,{style:P.underline,children:t.form_year})," to"," ",e.jsx(s,{style:P.underline,children:t.to_year}),", with admission number"," ",e.jsx(s,{style:P.underline,children:t.adm_no}),". And ",t.gender==="Boy"?"His":"Her"," Acadamic performance is as below, ",e.jsx(s,{style:P.underline}),"."]}),e.jsx(s,{style:[P.legendLabel,{marginTop:20}],children:"Academic Record"}),e.jsxs(r,{style:P.section,children:[e.jsx(r,{style:P.tableHeader,children:["Year","Class","1st Lang","2nd Lang","3rd Lang","Math","P/G Sci","B Sci","Social","Total","Percent","Result"].map((g,N)=>e.jsx(s,{style:P.tableHeaderCell,children:g},N))}),o&&o.map((g,N)=>e.jsxs(r,{style:P.tableRow,children:[e.jsx(s,{style:P.tableCell,children:g.academicYear}),e.jsx(s,{style:P.tableCell,children:g.class}),e.jsx(s,{style:P.tableCell,children:g.firstLanguage}),e.jsx(s,{style:P.tableCell,children:g.secondLanguage}),e.jsx(s,{style:P.tableCell,children:g.thirdLanguage}),e.jsx(s,{style:P.tableCell,children:g.math}),e.jsx(s,{style:P.tableCell,children:g.pScience}),e.jsx(s,{style:P.tableCell,children:g.bScience}),e.jsx(s,{style:P.tableCell,children:g.social}),e.jsx(s,{style:P.tableCell,children:g.total}),e.jsx(s,{style:P.tableCell,children:g.percentage}),e.jsx(s,{style:P.tableCell,children:g.result})]},N))]}),e.jsxs(r,{style:P.fieldRow,children:[e.jsx(s,{style:P.fieldLeft,children:"Place: ___________"}),e.jsx(s,{style:P.fieldRight,children:"Signature of HM"})]}),e.jsx(r,{style:P.fieldRow,children:e.jsx(s,{style:P.fieldLeft,children:"Date: ___________"})})]})})}),{Title:Kt}=he,{Option:Ne}=C,Ut=()=>{const[t]=a.useForm(),[o,g]=x.useState(""),[N,f]=x.useState(null),[y,w]=x.useState({study:!0,dob:!0,conduct:!0}),[u,b]=x.useState([{key:"1",academicYear:"",class:"",firstLanguage:"",secondLanguage:"",thirdLanguage:"",math:"",pScience:"",bScience:"",social:"",total:"",percentage:"",result:""}]),m=(n,l,p)=>{const v=[...u];v[n][l]=p,b(v)},c=async()=>{try{const n=await J.get(`https://hsbackendpkm.vercel.app/docs/${o}`);n.data?(f(n.data),t.setFieldsValue({...n.data,dob:n.data.dob?B(n.data.dob,"DD-MM-YYYY"):null,doj:n.data.doj?B(n.data.doj,"DD-MM-YYYY"):null,issue_date:n.data.issue_date?B(n.data.issue_date,"DD-MM-YYYY"):null,date_of_issue:n.data.date_of_issue?B(n.data.date_of_issue,"DD-MM-YYYY"):null}),j("Record fetched successfully!","success")):j("No data found for this Admission Number.","error")}catch(n){j("Error fetching record","error"),console.error("Error:",n)}},h=()=>{t.resetFields(),f(null),g(""),b([{key:"1",academicYear:"",class:"",firstLanguage:"",secondLanguage:"",thirdLanguage:"",math:"",pScience:"",bScience:"",social:"",total:"",percentage:"",result:""}]),me.success("Form reset after download.")},j=(n,l="info")=>{const p=document.getElementById("toast-container");if(!p)return;const v=document.createElement("div");v.className=`alert alert-${l}`,v.innerHTML=`<span>${n}</span>`,p.appendChild(v),setTimeout(()=>{v.classList.add("opacity-0","transition-opacity","duration-500"),setTimeout(()=>v.remove(),500)},3e3)};return e.jsxs("div",{className:"p-6 bg-base-200 min-h-screen",children:[e.jsx("div",{id:"toast-container",className:"toast toast-top toast-end z-50"}),e.jsxs("div",{className:"max-w-5xl mx-auto bg-base-100 p-6 rounded-box shadow",children:[e.jsx("div",{className:"w-full flex justify-center",children:e.jsxs("div",{className:"space-y-4",children:[e.jsx("h2",{className:"text-3xl font-bold text-primary mb-6 text-center",children:"Create Student Marks Memo"}),e.jsxs("div",{className:"flex justify-center gap-4 items-center mb-6",children:[e.jsx("input",{type:"text",value:o,onChange:n=>g(n.target.value),placeholder:"Enter Admission Number",className:"input input-bordered input-primary w-full sm:w-64"}),e.jsx("button",{onClick:c,className:"btn btn-outline border-2 btn-success w-32 font-bold text-success hover:text-gray-600 ",children:"Fetch Record"})]})]})}),N&&e.jsxs(a,{form:t,layout:"vertical",style:{marginTop:20},children:[e.jsx(V,{title:"Admission Details",bordered:!0,className:"form-card",children:e.jsx("div",{className:"bg-base-200 p-4 rounded-md",children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[e.jsx(a.Item,{label:"Adm No",name:"adm_no",rules:[{required:!0,message:"Please input surname!"}],children:e.jsx(i,{placeholder:"Enter Admission Number",readOnly:!0})}),e.jsx(a.Item,{label:"Date of Joining",name:"doj",rules:[{required:!0,message:"Please select Date of Joining!"}],children:e.jsx(K,{placeholder:"Select date of joining",format:"DD-MM-YYYY",disabled:!0})}),e.jsx(a.Item,{label:"Joining Class",name:"join_class",rules:[{required:!0,message:"Please select a Class!"}],children:e.jsx(C,{placeholder:"Select Class",disabled:!0,children:Array.from({length:10},(n,l)=>e.jsx(Ne,{value:l+1,children:l+1},l+1))})})]})})}),e.jsx(V,{title:"Student Details",bordered:!0,className:"form-card",children:e.jsx("div",{className:"bg-base-200 p-4 rounded-md",children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[e.jsx(a.Item,{label:"PEN Number",name:"pen_no",rules:[{required:!0,message:"Please input PEN number!"},{pattern:/^\d{11,12}$/,message:"PEN number must be 11 to 12 digits long and only contain numbers!"}],children:e.jsx(i,{type:"text",placeholder:"Enter PEN number",minLength:11,maxLength:12,readOnly:!0})}),e.jsx(a.Item,{label:"Surname",name:"sur_name",rules:[{required:!0,message:"Please input surname!"}],children:e.jsx(i,{placeholder:"Enter surname",readOnly:!0})}),e.jsx(a.Item,{label:"Name",name:"name",rules:[{required:!0,message:"Please input name!"}],children:e.jsx(i,{placeholder:"Enter name",readOnly:!0})}),e.jsx(a.Item,{label:"Date of Birth",name:"dob",rules:[{required:!0,message:"Please select your date of birth!"}],children:e.jsx(K,{placeholder:"Select date of birth",format:"DD-MM-YYYY",disabled:!0})}),e.jsx(a.Item,{label:"Gender",name:"gender",rules:[{required:!0,message:"Please select gender!"}],children:e.jsxs(C,{placeholder:"Select gender",disabled:!0,children:[e.jsx(Ne,{value:"Boy",children:"Boy"}),e.jsx(Ne,{value:"Girl",children:"Girl"}),e.jsx(Ne,{value:"Other",children:"Other"})]})}),e.jsx(a.Item,{label:"Student Aadhaar",name:"st_adhar",rules:[{required:!0,message:"Please input student Aadhaar!"},{pattern:/^\d{12}$/,message:"Student Aadhaar must be exactly 12 digits!"}],children:e.jsx(i,{type:"text",placeholder:"Enter student Aadhaar number",maxLength:12,readOnly:!0})}),e.jsx(a.Item,{label:"Father's Name",name:"father_name",rules:[{required:!0,message:"Please input father's name!"}],children:e.jsx(i,{placeholder:"Enter father's name",readOnly:!0})}),e.jsx(a.Item,{label:"Class From",name:"form_class",rules:[{required:!0,message:"Please input bank name!"}],children:e.jsx(i,{placeholder:"Enter bank name",readOnly:!0})}),e.jsx(a.Item,{label:"Class To",name:"to_class",rules:[{required:!0,message:"Please input address!"}],children:e.jsx(i,{placeholder:"Enter address",readOnly:!0})}),e.jsx(a.Item,{label:"Year Form",name:"form_year",rules:[{required:!0,message:"Please input ration card number!"}],children:e.jsx(i,{placeholder:"Enter ration card number",readOnly:!0})}),e.jsx(a.Item,{label:"Year To",name:"to_year",rules:[{required:!0,message:"Please input guardian name!"}],children:e.jsx(i,{placeholder:"Enter guardian name",readOnly:!0})}),e.jsx(a.Item,{label:"Status",name:"status",rules:[{required:!1,message:"Please input leaving class!"}],children:e.jsx(i,{placeholder:"Enter leaving class",readOnly:!0})}),e.jsx(a.Item,{label:"TC Number Issued",name:"tc_no_issue",rules:[{required:!1,message:"Please input TC number issued!"}],children:e.jsx(i,{placeholder:"Enter TC number issued",readOnly:!0})}),e.jsx(a.Item,{label:"Date of Issue",name:"date_of_issue",rules:[{required:!1,message:"Please select date of issue!"}],children:e.jsx(K,{placeholder:"Select date of issue",format:"DD-MM-YYYY",disabled:!0})})]})})}),e.jsxs("div",{className:"bg-base-200 p-4 rounded-md",children:[e.jsx(Kt,{level:4,className:"text-center",children:"Marks Table"}),e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"table table-xs border-0 p-1 shadow-lg text-center pb-2 ",children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{}),e.jsx("th",{children:"Year"}),e.jsx("th",{children:"Class"}),e.jsxs("th",{children:["1st",e.jsx("br",{}),"Lang"]}),e.jsxs("th",{children:["2nd",e.jsx("br",{}),"Lang"]}),e.jsxs("th",{children:["3rd",e.jsx("br",{}),"Lang"]}),e.jsx("th",{children:"Maths"}),e.jsxs("th",{children:["P.Sci/",e.jsx("br",{}),"G.Sci"]}),e.jsx("th",{children:"B.Sci"}),e.jsx("th",{children:"Social"}),e.jsxs("th",{children:["Total",e.jsx("br",{}),"Marks"]}),e.jsx("th",{children:"Percentage"}),e.jsx("th",{children:"Final Result"})]})}),e.jsx("tbody",{children:u.map((n,l)=>e.jsxs("tr",{children:[e.jsx("th",{children:l+1}),e.jsx("td",{children:e.jsx("input",{type:"text",value:n.academicYear,onChange:p=>m(l,"academicYear",p.target.value),className:"input input-bordered input-sm"})}),e.jsx("td",{children:e.jsx("input",{type:"text",value:n.class,onChange:p=>m(l,"class",p.target.value),className:"input input-bordered input-sm"})}),e.jsx("td",{children:e.jsx("input",{type:"text",value:n.firstLanguage,onChange:p=>m(l,"firstLanguage",p.target.value),className:"input input-bordered input-sm"})}),e.jsx("td",{children:e.jsx("input",{type:"text",value:n.secondLanguage,onChange:p=>m(l,"secondLanguage",p.target.value),className:"input input-bordered input-sm"})}),e.jsx("td",{children:e.jsx("input",{type:"text",value:n.thirdLanguage,onChange:p=>m(l,"thirdLanguage",p.target.value),className:"input input-bordered input-sm"})}),e.jsx("td",{children:e.jsx("input",{type:"text",value:n.math,onChange:p=>m(l,"math",p.target.value),className:"input input-bordered input-sm"})}),e.jsx("td",{children:e.jsx("input",{type:"text",value:n.pScience,onChange:p=>m(l,"pScience",p.target.value),className:"input input-bordered input-sm"})}),e.jsx("td",{children:e.jsx("input",{type:"text",value:n.bScience,onChange:p=>m(l,"bScience",p.target.value),className:"input input-bordered input-sm"})}),e.jsx("td",{children:e.jsx("input",{type:"text",value:n.social,onChange:p=>m(l,"social",p.target.value),className:"input input-bordered input-sm"})}),e.jsx("td",{children:e.jsx("input",{type:"text",value:n.total,onChange:p=>m(l,"total",p.target.value),className:"input input-bordered input-sm"})}),e.jsx("td",{children:e.jsx("input",{type:"text",value:n.percentage,onChange:p=>m(l,"percentage",p.target.value),className:"input input-bordered input-sm"})}),e.jsx("td",{children:e.jsx("input",{type:"text",value:n.result,onChange:p=>m(l,"result",p.target.value),className:"input input-bordered input-sm"})})]},l))})]})}),e.jsx(ie,{type:"dashed",onClick:()=>b([...u,{key:Date.now().toString(),academicYear:"",class:"",firstLanguage:"",secondLanguage:"",thirdLanguage:"",math:"",pScience:"",bScience:"",social:"",total:"",percentage:"",result:""}]),className:"mx-auto mt-4",children:"Add Row"})]}),e.jsx(a.Item,{children:e.jsx("div",{style:{display:"flex",justifyContent:"center",marginRight:10},children:e.jsx(je,{document:e.jsx(Gt,{record:N,marks:u}),fileName:`Marks_Memo_${o}.pdf`,children:({loading:n})=>e.jsx(ie,{type:"primary",style:{width:100,marginRight:40},loading:y.study&&n,onClick:()=>{setTimeout(()=>{h()},1e3)},children:n?"Preparing...":"Download PDF"})})})})]})]})]})},I=oe.create({page:{padding:30,fontSize:12},header:{fontSize:14,marginBottom:5,textAlign:"center"},underline:{textDecoration:"underline"},line:{borderBottomWidth:1,borderBottomColor:"#000",marginVertical:5},row:{flexDirection:"row",justifyContent:"space-between"},leftText:{textAlign:"left"},rightText:{textAlign:"right"},table:{display:"table",width:"100%",marginTop:10},tableRow:{flexDirection:"row"},tableCellHeader:{flex:1,padding:5,fontSize:10,fontWeight:"bold",backgroundColor:"#f0f0f0",borderWidth:1,borderColor:"#000",borderStyle:"solid",textAlign:"center"},tableCell:{flex:1,padding:5,fontSize:10,borderWidth:1,borderColor:"#000",borderStyle:"solid"},signature:{textAlign:"right",marginRight:20,marginTop:30,fontWeight:"bold"},copy:{textAlign:"left",marginLeft:20,marginTop:5,fontWeight:"bold"},additionalText:{marginTop:5,marginBottom:5,textAlign:"left",fontStyle:"italic",paddingLeft:60},additional:{marginTop:5,marginBottom:5,fontStyle:"italic",textAlign:"justify"}}),Wt=({data:t})=>e.jsx(de,{children:t.length>0&&e.jsxs(ce,{size:"A4",style:I.page,wrap:!0,children:[e.jsx(s,{style:I.header,children:"Proceedings of the Headmaster ZPHS P Kottam, Kotananduru"}),e.jsxs(s,{style:[I.header,I.underline],children:["Present: Sri/Smt/Kum "," ",t[0].ddo_name]}),e.jsxs(r,{style:I.row,children:[e.jsxs(s,{style:I.leftText,children:["Proc.Rc.No: ",t[0].proceeding_no]}),e.jsxs(s,{style:I.rightText,children:["Date: ",t[0].date]})]}),e.jsx(r,{style:I.line}),e.jsx(s,{style:I.additionalText,children:"Sub:- Education - Secondary Education - Earned Leave – Sanction Surrender of Earned Leave According Permission for the Surrender of Earned Leave to Certain Teaching and Non–Teaching Staff of ZPHS P Kottam - orders issued."}),e.jsxs(s,{style:I.additionalText,children:["Ref:- 1. G.O.Ms.No.40, Edn, dt.07-05-2002",`
`,"      2. Cir.Memo.No.14781-C/278/FR.I/2011, Finance (FR.I) Department,DT.22-6-2011",`
`,"      3.  G.O.No. 180 School Education Dated: 18-11-2022.",`
`,"      4.  Applications from the concerned staff.",`
`]}),e.jsx(s,{style:[I.header],children:"**************"}),e.jsx(s,{style:I.additionalText,children:"   ORDER:"}),e.jsx(s,{style:I.additional,children:"              In the Memo 1st cited Government have permitted Teachers to Surrender of Earned Leave."}),e.jsx(s,{style:I.additional,children:"              In this connection the following Teaching Staff of Z.P.High School, P. Kottam are here accorded permission to Surrender Earned Leave for purpose of Encashment as detailed in the Annexure"}),e.jsx(s,{style:I.additional,children:"              This is to certify that none of the staff members who are surrendering 30 days of Earned Leave during the current year have surrendered any leave in the previous year."}),e.jsx(s,{style:[I.header,I.underline],children:"Annexure"}),e.jsxs(r,{style:I.table,children:[e.jsxs(r,{style:I.tableRow,children:[e.jsx(s,{style:I.tableCellHeader,children:"Name"}),e.jsx(s,{style:I.tableCellHeader,children:"Designation"}),e.jsx(s,{style:I.tableCellHeader,children:"Basic Pay"}),e.jsx(s,{style:I.tableCellHeader,children:"Available E.L."}),e.jsx(s,{style:I.tableCellHeader,children:"Surrendered Leave Days"}),e.jsx(s,{style:I.tableCellHeader,children:"Leave Balance"}),e.jsx(s,{style:I.tableCellHeader,children:"Effective Date From"}),e.jsx(s,{style:I.tableCellHeader,children:"Effective Date To"})]}),t.map((o,g)=>e.jsxs(r,{style:I.tableRow,children:[e.jsx(s,{style:I.tableCell,children:o.name}),e.jsx(s,{style:I.tableCell,children:o.designation}),e.jsx(s,{style:I.tableCell,children:o.pay_scale}),e.jsx(s,{style:I.tableCell,children:o.present_pay}),e.jsx(s,{style:I.tableCell,children:o.rate_increment}),e.jsx(s,{style:I.tableCell,children:o.future_pay}),e.jsx(s,{style:I.tableCell,children:o.effect_date}),e.jsx(s,{style:I.tableCell,children:o.next_date})]},g))]}),e.jsx(s,{style:I.additional,children:"              Necessary entries are made in the Service Registers of the Individuals.It is hereby brought to the notice of all concerned that these orders are subject to audit objections that may be raised by the Treasury authorities. Any excess amount paid, if found, will be recovered in lump sum without prior notice."}),e.jsx(s,{style:I.signature,children:"Signature of the HM"}),e.jsx(s,{style:I.copy,children:"Copy to:"}),e.jsx(s,{style:I.copy,children:"1. Individual"}),e.jsx(s,{style:I.copy,children:"2. Stock file."}),e.jsx(s,{style:I.copy,children:"3. The STO."})]})}),{Title:Vt}=he,Jt=()=>{const[t]=a.useForm(),[o,g]=x.useState(!1),[N,f]=x.useState([{}]),y=()=>{f([...N,{}])},w=m=>{const c=N.filter((h,j)=>j!==m);f(c)},u=async m=>{g(!0);const c=N.map((h,j)=>({proceeding_no:j===0?m.proceeding_no:void 0,date:j===0&&m.date?m.date.format("DD-MM-YYYY"):void 0,ddo_name:j===0?m.ddo_name:void 0,name:h.name,designation:h.designation,present_pay:h.present_pay,rate_increment:h.rate_increment,future_pay:h.future_pay,effect_date:h.effect_date?h.effect_date.format("DD-MM-YYYY"):void 0,next_date:h.next_date?h.next_date.format("DD-MM-YYYY"):void 0,pay_scale:h.pay_scale}));try{await J.post("https://hsbackendpkm.vercel.app/surrender",c),me.success("Increment data submitted successfully!");const h=await _e(e.jsx(Wt,{data:c})).toBlob(),j=URL.createObjectURL(h),n=document.createElement("a");n.href=j,n.setAttribute("download","increment_form.pdf"),document.body.appendChild(n),n.click(),n.remove(),URL.revokeObjectURL(j),t.resetFields(),f([{}]),f(l=>l.map(()=>({name:"",designation:"",present_pay:"",rate_increment:"",future_pay:"",effect_date:null,next_date:null,pay_scale:""})))}catch(h){me.error("Error submitting Increment data"),console.error("Error:",h)}finally{g(!1)}},b=(m,c,h)=>{const j=[...N];if(j[m]={...j[m],[c]:h},c==="present_pay"||c==="rate_increment"){const n=j[m].present_pay||0,l=j[m].rate_increment||0;j[m].future_pay=parseFloat(n)-parseFloat(l)}f(j)};return e.jsx("div",{className:"p-6 bg-base-200 min-h-screen",children:e.jsxs("div",{className:"max-w-4xl mx-auto bg-base-100 p-6 rounded-box shadow",children:[e.jsx(Vt,{level:2,className:"form-header",children:"Sanction Surrender Leave"}),e.jsxs(a,{form:t,layout:"vertical",onFinish:u,children:[e.jsx(V,{title:"Leave Details",bordered:!0,className:"form-card",children:e.jsx("div",{className:"bg-base-200 p-4 rounded-md",children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[e.jsx(a.Item,{label:"Proceeding No",name:"proceeding_no",rules:[{required:!0,message:"Please enter the proceeding number!"}],className:"field-item",children:e.jsx(i,{placeholder:"Enter Proceeding No"})}),e.jsx(a.Item,{label:"Date",name:"date",rules:[{required:!0,message:"Please select the date!"}],className:"field-item",children:e.jsx(K,{format:"DD-MM-YYYY",style:{width:"100%"},placeholder:"Select Date"})}),e.jsx(a.Item,{label:"DDO Name And Qualifications",name:"ddo_name",rules:[{required:!0,message:"Please enter the DDO name!"}],className:"field-item",children:e.jsx(i,{placeholder:"Enter DDO Name"})})]})})}),N.map((m,c)=>e.jsx(V,{title:`Employee ${c+1}`,bordered:!0,className:"form-card",children:e.jsx("div",{className:"bg-base-200 p-4 rounded-md",children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[e.jsx(a.Item,{label:"Name",rules:[{required:!0,message:"Please enter the name!"}],children:e.jsx(i,{placeholder:"Enter Name",value:m.name,onChange:h=>b(c,"name",h.target.value)})}),e.jsx(a.Item,{label:"Designation",rules:[{required:!0,message:"Please enter the designation!"}],children:e.jsx(i,{placeholder:"Enter Designation",value:m.designation,onChange:h=>b(c,"designation",h.target.value)})}),e.jsx(a.Item,{label:"Basic Pay",rules:[{required:!0,message:"Please enter the Basic Pay!"}],children:e.jsx(i,{placeholder:"Enter Basic Pay",value:m.pay_scale,onChange:h=>b(c,"pay_scale",h.target.value)})}),e.jsx(a.Item,{label:"Available E.L.",rules:[{required:!0,message:"Please enter Available E.L.!"}],children:e.jsx(i,{placeholder:"Enter Available E.L.",type:"number",min:0,value:m.present_pay,onChange:h=>b(c,"present_pay",h.target.value)})}),e.jsx(a.Item,{label:"Surrendered Leave Days",rules:[{required:!0,message:"Please enter Surrendered Leave Days!"}],children:e.jsx(i,{placeholder:"Enter Surrendered Leave Days",type:"number",min:0,value:m.rate_increment,onChange:h=>b(c,"rate_increment",h.target.value)})}),e.jsx(a.Item,{label:"Leave Balance",children:e.jsx(i,{placeholder:"Leave Balance",value:m.future_pay,readOnly:!0})}),e.jsx(a.Item,{label:"Leave Start Date",children:e.jsx(K,{format:"DD-MM-YYYY",value:m.effect_date,onChange:h=>b(c,"effect_date",h),placeholder:"Select Leave Start Date",style:{width:"100%"}})}),e.jsx(a.Item,{label:"Leave End Date",children:e.jsx(K,{format:"DD-MM-YYYY",value:m.next_date,onChange:h=>b(c,"next_date",h),placeholder:"Select Leave End Date",style:{width:"100%"}})}),e.jsx("div",{className:"flex items-end",children:e.jsx(ie,{type:"danger",onClick:()=>w(c),style:{width:"100%",color:"red",fontWeight:"bold"},children:"Remove Employee"})})]})})},c)),e.jsx("div",{className:"flex justify-center mb-5",children:e.jsx("button",{onClick:y,className:"btn btn-outline btn-accent btn-soft w-[200px]",children:"Add Employee"})}),e.jsx("div",{className:"flex justify-center mt-6",children:e.jsx("button",{type:"submit",disabled:o,className:`btn btn-primary btn-soft w-[200px] ${o?"btn-disabled":""}`,children:o?e.jsxs(e.Fragment,{children:[e.jsx("span",{className:"loading loading-spinner loading-sm mr-2"}),"Submitting..."]}):"Submit"})})]})]})})},Zt=()=>{const{id:t}=we(),o=xe(),[g,N]=x.useState(null),[f,y]=x.useState(!0),[w,u]=x.useState([]),[b,m]=x.useState("portrait"),[c,h]=x.useState("a4"),j=[{label:"Date of Joining",key:"doj"},{label:"Gender",key:"gender"},{label:"Date of Birth",key:"dob"},{label:"Caste",key:"category"}],[n,l]=x.useState([]);x.useEffect(()=>{J.get("https://hsbackendpkm.vercel.app/class/10").then(v=>{N(v.data),y(!1)}).catch(v=>{console.error(v),y(!1)})},[t]);const p=()=>{const v=j.filter(k=>n.includes(k.key)).map(k=>k.label);o("/tenth/preview",{state:{classDetails:g,className:g.class_name||`Class ${t}`,columnHeaders:v,selectedFieldKeys:n,orientation:b,paperSize:c}})};return f?e.jsx("div",{className:"flex justify-center items-center h-64",children:e.jsx("span",{className:"loading loading-spinner loading-lg text-warning"})}):!g||!g.students||g.students.length===0?e.jsx("div",{className:"text-center mt-10 text-red-500 font-semibold",children:"No students found for this class."}):e.jsx("div",{className:"w-full px-5 md:px-10 py-8",children:e.jsxs("div",{className:"bg-white rounded-md shadow-md border border-gray-300 w-full",children:[e.jsxs("div",{className:"bg-green-200 text-center py-4 border-b border-gray-900 rounded-t-md flex justify-center items-center gap-2",children:[e.jsx(fe,{className:"text-gray-800 w-6 h-6"}),e.jsx("h3",{className:"text-xl font-bold text-gray-800",children:"Class 10 - Student Details"}),e.jsx(fe,{className:"text-gray-800 w-6 h-6"})]}),e.jsx("div",{className:"text-right px-5 py-3",children:e.jsx("button",{onClick:p,className:"btn btn-info btn-sm",children:"Click me to Generate Registers"})}),e.jsx("div",{className:"overflow-x-auto p-5",children:e.jsxs("table",{className:"table-auto w-full text-sm text-center",children:[e.jsx("thead",{className:"bg-gray-100 sticky top-0 z-10 text-gray-700",children:e.jsxs("tr",{children:[e.jsx("th",{className:"border px-3 py-2",children:"Admission No"}),e.jsx("th",{className:"border px-3 py-2",children:"Surname"}),e.jsx("th",{className:"border px-3 py-2",children:"Name"}),e.jsx("th",{className:"border px-3 py-2",children:"Date of Joining"}),e.jsx("th",{className:"border px-3 py-2",children:"Gender"}),e.jsx("th",{className:"border px-3 py-2",children:"Date of Birth"}),e.jsx("th",{className:"border px-3 py-2",children:"Caste"}),e.jsx("th",{className:"border px-3 py-2",children:"Action"})]})}),e.jsx("tbody",{children:g.students.map(v=>e.jsxs("tr",{className:"hover:bg-yellow-50",children:[e.jsx("td",{className:"border px-3 py-2",children:v.adm_no}),e.jsx("td",{className:"border px-3 py-2",children:v.sur_name}),e.jsx("td",{className:"border px-3 py-2",children:v.name}),e.jsx("td",{className:"border px-3 py-2",children:v.doj}),e.jsx("td",{className:"border px-3 py-2",children:v.gender}),e.jsx("td",{className:"border px-3 py-2",children:v.dob}),e.jsx("td",{className:"border px-3 py-2",children:v.category}),e.jsx("td",{className:"border px-3 py-2",children:e.jsx("button",{onClick:()=>o(`/Student/${v.adm_no}`),className:"btn btn-sm bg-green-400 text-white hover:bg-green-500 shadow-none border-none",children:"Update"})})]},v.adm_no))})]})})]})})},Xt=(t=[],o=[],g="portrait",N="a4",f={})=>{const{className:y="",registerName:w="",fileName:u="tenth_details.pdf",includeDateOfJoining:b=!1,includeGender:m=!1,includeDOB:c=!1,includeCaste:h=!1,includeAdhar:j=!1,includeMoles:n=!1,includeFatherName:l=!1,includeMotherName:p=!1,includeMobileNo:v=!1,includeGuardian:k=!1}=f,W=new Te(g,"mm",N);if(!Array.isArray(o)||o.length===0){W.setFontSize(12),W.text("No student data available.",20,20),W.save(u);return}const H="Tenth Class Details";W.setFontSize(16),W.text(H,W.internal.pageSize.getWidth()/2,15,{align:"center"}),w&&(W.setFontSize(12),W.text(`Register Name: ${w}`,W.internal.pageSize.getWidth()/2,23,{align:"center"}));const R=["Adm No","Name"];b&&R.push("Date of Joining"),m&&R.push("Gender"),c&&R.push("Date of Birth"),h&&R.push("Caste"),j&&R.push("Aadhar Number"),n&&R.push("Identifying Marks"),l&&R.push("Father's Name"),p&&R.push("Mother's Name"),v&&R.push("Mobile Number"),k&&R.push("Guardian"),R.push(...t.map((L,F)=>L||`${F+1}`));const ee=o.map(L=>{const F=[L.adm_no,`${L.sur_name} ${L.name}`];return b&&F.push(L.doj||""),m&&F.push(L.gender||""),c&&F.push(L.dob||""),h&&F.push(L.category||""),j&&F.push(L.st_adhar||""),n&&F.push(L.moles||""),l&&F.push(L.father_name||""),p&&F.push(L.mother_name||""),v&&F.push(L.mobile_no||""),k&&F.push(L.guardian||""),F.push(...new Array(t.length).fill("")),F}),Z={0:{cellWidth:18},1:{cellWidth:60}};let G=2;b&&(Z[G++]={cellWidth:28}),m&&(Z[G++]={cellWidth:16}),c&&(Z[G++]={cellWidth:28}),h&&(Z[G++]={cellWidth:20}),j&&(Z[G++]={cellWidth:25}),n&&(Z[G++]={cellWidth:35}),l&&(Z[G++]={cellWidth:26}),p&&(Z[G++]={cellWidth:26}),v&&(Z[G++]={cellWidth:25}),k&&(Z[G++]={cellWidth:26});for(let L=0;L<t.length;L++)Z[G++]={};Ee(W,{head:[R],body:ee,startY:w?30:y?27:25,theme:"grid",margin:{top:10,left:10,right:10,bottom:10},styles:{fontSize:8,cellPadding:3,halign:"center",valign:"middle"},headStyles:{fillColor:[220,220,220],textColor:0,fontSize:9,halign:"center"},columnStyles:Z,didParseCell:L=>{L.column.index===1&&L.cell.raw&&(L.cell.styles.cellWidth=60)}}),W.save(u)},Qt=()=>{const t=xe(),o=Me(),{classDetails:g,className:N="",columnHeaders:f=["Extra 1","Extra 2"],orientation:y="portrait",paperSize:w="a4"}=o.state||{},[u,b]=x.useState(f),[m,c]=x.useState(f.map(()=>"")),[h,j]=x.useState(y),[n,l]=x.useState(w),[p,v]=x.useState(""),[k,W]=x.useState(""),[H,R]=x.useState(""),[ee,Z]=x.useState(!1),[G,ue]=x.useState(!1),[L,F]=x.useState(!1),[se,pe]=x.useState(!1),[re,ge]=x.useState(!1),[ne,S]=x.useState(!1),[_,q]=x.useState(!1),[X,Se]=x.useState(!1),[ye,Ye]=x.useState(!1),[Le,ts]=x.useState(!1),Re=()=>{b([...u,`Extra ${u.length+1}`]),c([...m,""])},ke=D=>{const te=[...u],le=[...m];te.splice(D,1),le.splice(D,1),b(te),c(le)},Be=(D,te)=>{const le=[...m];le[D]=te,c(le)},Fe=()=>{try{Xt(m,g.students,h,n,{className:N,registerName:p,includeDateOfJoining:ee,includeGender:G,includeDOB:L,includeCaste:se,includeAdhar:re,includeMoles:ne,includeFatherName:_,includeMotherName:X,includeMobileNo:ye,includeGuardian:Le}),W("✅ PDF generated successfully!"),R("alert-success")}catch(D){console.error("PDF generation failed:",D),W("❌ PDF generation failed. Check console for details."),R("alert-error")}setTimeout(()=>{W(""),R("")},3e3)};return e.jsxs("div",{className:"p-6 max-w-6xl mx-auto",children:[e.jsx("h2",{className:"text-2xl font-bold text-center mb-1",children:"10th - Student Details"}),e.jsxs("div",{className:"text-center mb-2",children:[e.jsx("label",{className:"text-sm font-semibold mr-2",children:"Register Name:"}),e.jsx("input",{type:"text",className:"input input-bordered input-sm w-64",placeholder:"e.g. Attendance Register",value:p,onChange:D=>v(D.target.value)})]}),e.jsxs("p",{className:"text-center text-sm text-gray-600 mb-4",children:["Orientation: ",e.jsx("strong",{children:h})," | Paper Size: ",e.jsx("strong",{children:n})]}),e.jsxs("div",{className:"mb-4 text-center",children:[e.jsx("button",{onClick:Re,className:"btn btn-primary btn-outline btn-sm mr-2",children:"Add Extra Column"}),u.length>0&&e.jsx("button",{onClick:()=>ke(u.length-1),className:"btn btn-error btn-outline btn-sm text-red-600 border-red-600",children:"Remove Last Column"})]}),e.jsx("div",{className:"mb-4 grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-5 gap-2 text-center",children:u.map((D,te)=>e.jsxs("div",{className:"flex items-center gap-2 justify-center",children:[e.jsxs("label",{className:"text-sm",children:["Col ",te+1,":"]}),e.jsx("input",{type:"text",className:"input input-bordered input-sm w-full max-w-xs",value:m[te],onChange:le=>Be(te,le.target.value),placeholder:`Header for ${u[te]}`})]},te))}),e.jsxs("div",{className:"mb-4 flex flex-wrap justify-center gap-8",children:[e.jsxs("div",{className:"flex flex-col sm:flex-row items-center gap-2",children:[e.jsx("label",{className:"whitespace-nowrap font-medium",children:"Orientation:"}),e.jsxs("select",{className:"select select-bordered select-sm",value:h,onChange:D=>j(D.target.value),children:[e.jsx("option",{value:"portrait",children:"Portrait"}),e.jsx("option",{value:"landscape",children:"Landscape"})]})]}),e.jsxs("div",{className:"flex flex-col sm:flex-row items-center gap-2",children:[e.jsx("label",{className:"whitespace-nowrap font-medium",children:"Paper Size:"}),e.jsxs("select",{className:"select select-bordered select-sm",value:n,onChange:D=>l(D.target.value),children:[e.jsx("option",{value:"a4",children:"A4"}),e.jsx("option",{value:"legal",children:"Legal"})]})]})]}),e.jsxs("div",{className:"mb-4 flex flex-wrap justify-center gap-8",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("input",{type:"checkbox",id:"dateOfJoining",checked:ee,onChange:D=>Z(D.target.checked)}),e.jsx("label",{htmlFor:"dateOfJoining",className:"text-sm",children:"Include Date of Joining"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("input",{type:"checkbox",id:"gender",checked:G,onChange:D=>ue(D.target.checked)}),e.jsx("label",{htmlFor:"gender",className:"text-sm",children:"Include Gender"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("input",{type:"checkbox",id:"dob",checked:L,onChange:D=>F(D.target.checked)}),e.jsx("label",{htmlFor:"dob",className:"text-sm",children:"Include Date of Birth"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("input",{type:"checkbox",id:"caste",checked:se,onChange:D=>pe(D.target.checked)}),e.jsx("label",{htmlFor:"caste",className:"text-sm",children:"Include Caste"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("input",{type:"checkbox",id:"adhar",checked:re,onChange:D=>ge(D.target.checked)}),e.jsx("label",{htmlFor:"adhar",className:"text-sm",children:"Include Aadhar Number"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("input",{type:"checkbox",id:"moles",checked:ne,onChange:D=>S(D.target.checked)}),e.jsx("label",{htmlFor:"moles",className:"text-sm",children:"Include Identifying Marks"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("input",{type:"checkbox",id:"fatherName",checked:_,onChange:D=>q(D.target.checked)}),e.jsx("label",{htmlFor:"fatherName",className:"text-sm",children:"Include Father's Name"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("input",{type:"checkbox",id:"motherName",checked:X,onChange:D=>Se(D.target.checked)}),e.jsx("label",{htmlFor:"motherName",className:"text-sm",children:"Include Mother's Name"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("input",{type:"checkbox",id:"mobileNo",checked:ye,onChange:D=>Ye(D.target.checked)}),e.jsx("label",{htmlFor:"mobileNo",className:"text-sm",children:"Include Mobile Number"})]})]}),e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"table-auto w-full border text-sm text-center",children:[e.jsx("thead",{className:"bg-gray-100",children:e.jsxs("tr",{children:[e.jsx("th",{className:"border px-2 py-1",children:"Adm No"}),e.jsx("th",{className:"border px-2 py-1",children:"Name"}),ee&&e.jsx("th",{className:"border px-2 py-1",children:"Date of Joining"}),G&&e.jsx("th",{className:"border px-2 py-1",children:"Gender"}),L&&e.jsx("th",{className:"border px-2 py-1",children:"Date of Birth"}),se&&e.jsx("th",{className:"border px-2 py-1",children:"Caste"}),re&&e.jsx("th",{className:"border px-2 py-1",children:"Aadhar Number"}),ne&&e.jsx("th",{className:"border px-2 py-1",children:"Identifying Marks"}),_&&e.jsx("th",{className:"border px-2 py-1",children:"Father's Name"}),X&&e.jsx("th",{className:"border px-2 py-1",children:"Mother's Name"}),ye&&e.jsx("th",{className:"border px-2 py-1",children:"Mobile Number"}),m.map((D,te)=>e.jsx("th",{className:"border px-2 py-1",children:D||`${te+1}`},te))]})}),e.jsx("tbody",{children:g.students.map(D=>e.jsxs("tr",{children:[e.jsx("td",{className:"border px-2 py-1",children:D.adm_no}),e.jsxs("td",{className:"border px-2 py-1",children:[D.sur_name," ",D.name]}),ee&&e.jsx("td",{className:"border px-2 py-1",children:D.doj}),G&&e.jsx("td",{className:"border px-2 py-1",children:D.gender}),L&&e.jsx("td",{className:"border px-2 py-1",children:D.dob}),se&&e.jsx("td",{className:"border px-2 py-1",children:D.category}),re&&e.jsx("td",{className:"border px-2 py-1",children:D.st_adhar}),ne&&e.jsx("td",{className:"border px-2 py-1",children:D.moles}),_&&e.jsx("td",{className:"border px-2 py-1",children:D.father_name}),X&&e.jsx("td",{className:"border px-2 py-1",children:D.mother_name}),ye&&e.jsx("td",{className:"border px-2 py-1",children:D.mobile_no}),u.map((te,le)=>e.jsx("td",{className:"border px-2 py-1"},le))]},D.adm_no))})]})}),e.jsxs("div",{className:"mt-4 flex justify-center gap-2",children:[e.jsx("button",{onClick:Fe,className:"btn btn-success btn-sm",children:"Generate PDF"}),e.jsx("button",{onClick:()=>t(-1),className:"btn btn-outline btn-sm",children:"Go Back"})]}),k&&e.jsx("div",{className:"toast toast-top toast-end z-50",children:e.jsx("div",{className:`alert ${H}`,children:e.jsx("span",{children:k})})})]})},es=()=>e.jsx(at,{children:e.jsxs("div",{children:[e.jsx(it,{})," ",e.jsxs("div",{style:{paddingTop:"64px"},children:[" ",e.jsxs(lt,{children:[e.jsx(Q,{path:"/",element:e.jsx(bt,{})}),e.jsx(Q,{path:"/post",element:e.jsx(vt,{})}),e.jsx(Q,{path:"/search",element:e.jsx(Nt,{})}),e.jsx(Q,{path:"/docs",element:e.jsx(wt,{})}),e.jsx(Q,{path:"/increment",element:e.jsx(It,{})}),e.jsx(Q,{path:"/leave",element:e.jsx(Mt,{})}),e.jsx(Q,{path:"/staff",element:e.jsx(kt,{})}),e.jsx(Q,{path:"/classes",element:e.jsx(Ht,{})}),e.jsx(Q,{path:"/class/:id",element:e.jsx(Bt,{})}),e.jsx(Q,{path:"/student/:admNo",element:e.jsx(qt,{})}),e.jsx(Q,{path:"/preview",element:e.jsx($t,{})}),e.jsx(Q,{path:"/memo",element:e.jsx(Ut,{})}),e.jsx(Q,{path:"/surrender",element:e.jsx(Jt,{})}),e.jsx(Q,{path:"/tenth",element:e.jsx(Zt,{})}),e.jsx(Q,{path:"/tenth/preview",element:e.jsx(Qt,{})})]})]})]})});rt.createRoot(document.getElementById("root")).render(e.jsx(x.StrictMode,{children:e.jsx(es,{})}));
